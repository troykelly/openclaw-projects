# Reference config for the VM's Traefik file-provider.
# On the VM this lives at: /opt/traefik/dynamic.yml

http:
  routers:
    openclaw-hooks:
      rule: "Host(`projects.example.com`) && PathPrefix(`/hooks`)"
      entryPoints:
        - websecure
      tls:
        certResolver: cloudflare
      service: openclaw-gateway

    openclaw-projects:
      rule: "Host(`projects.example.com`) && (PathPrefix(`/dashboard`) || PathPrefix(`/api`) || Path(`/health`))"
      entryPoints:
        - websecure
      tls:
        certResolver: cloudflare
      service: openclaw-projects

  services:
    openclaw-gateway:
      loadBalancer:
        servers:
          - url: "http://[::1]:18789"

    openclaw-projects:
      loadBalancer:
        servers:
          - url: "http://[::1]:3000"
