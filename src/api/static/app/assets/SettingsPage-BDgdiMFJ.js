import{r as l,j as e}from"./index-DoQKFsVP.js";import{C as j,b as y,c as b,d as k,a as v}from"./card-Cf-It-QS.js";import{P as H,c as ie,a as re}from"./index-Qf36hgnl.js";import{c as p,u as G,a as N,B as K}from"./button-BTQRjsho.js";import{a as de,d as ce}from"./index-K96IL8No.js";import{u as le,S as T,a as E,b as z,c as A,d as f}from"./select-DcL9NSeY.js";import{S as C}from"./skeleton-6qwQjcya.js";import{I as oe}from"./input-CKNIOnpa.js";import{B as J}from"./badge-DsiyHYV4.js";import{L as me}from"./loader-circle-DEYmh2G7.js";import{E as ue}from"./eye-dPsgE9Rb.js";import{B as he}from"./bell-CNA8j3so.js";import{C as xe}from"./clock-CzeeMNDe.js";import"./chevron-down-CTcxn7D3.js";const ge=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],W=p("circle-check-big",ge);const pe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$=p("circle-x",pe);const fe=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],I=p("cpu",fe);const je=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ye=p("dollar-sign",je);const be=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ve=p("monitor",be);const Ne=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ke=p("moon",Ne);const we=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Se=p("panels-top-left",we);const Ce=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],O=p("sun",Ce);const _e=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Me=p("triangle-alert",_e);const Pe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Te=p("zap",Pe);var B="Switch",[Ee]=re(B),[ze,Ae]=Ee(B),X=l.forwardRef((s,t)=>{const{__scopeSwitch:a,name:i,checked:o,defaultChecked:m,required:u,disabled:r,value:d="on",onCheckedChange:n,form:g,...c}=s,[h,x]=l.useState(null),w=G(t,P=>x(P)),R=l.useRef(!1),D=h?g||!!h.closest("form"):!0,[M,ae]=de({prop:o,defaultProp:m??!1,onChange:n,caller:B});return e.jsxs(ze,{scope:a,checked:M,disabled:r,children:[e.jsx(H.button,{type:"button",role:"switch","aria-checked":M,"aria-required":u,"data-state":ee(M),"data-disabled":r?"":void 0,disabled:r,value:d,...c,ref:w,onClick:ie(s.onClick,P=>{ae(ne=>!ne),D&&(R.current=P.isPropagationStopped(),R.current||P.stopPropagation())})}),D&&e.jsx(Q,{control:h,bubbles:!R.current,name:i,value:d,checked:M,required:u,disabled:r,form:g,style:{transform:"translateX(-100%)"}})]})});X.displayName=B;var Y="SwitchThumb",Z=l.forwardRef((s,t)=>{const{__scopeSwitch:a,...i}=s,o=Ae(Y,a);return e.jsx(H.span,{"data-state":ee(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t})});Z.displayName=Y;var Ie="SwitchBubbleInput",Q=l.forwardRef(({__scopeSwitch:s,control:t,checked:a,bubbles:i=!0,...o},m)=>{const u=l.useRef(null),r=G(u,m),d=le(a),n=ce(t);return l.useEffect(()=>{const g=u.current;if(!g)return;const c=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(c,"checked").set;if(d!==a&&x){const w=new Event("click",{bubbles:i});x.call(g,a),g.dispatchEvent(w)}},[d,a,i]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...o,tabIndex:-1,ref:r,style:{...o.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Q.displayName=Ie;function ee(s){return s?"checked":"unchecked"}var Le=X,Be=Z;function L({className:s,...t}){return e.jsx(Le,{"data-slot":"switch",className:N("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-5 w-9 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(Be,{"data-slot":"switch-thumb",className:N("bg-background pointer-events-none block size-4 rounded-full ring-0 shadow-sm transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})}function Re(){const[s,t]=l.useState({kind:"loading"}),[a,i]=l.useState(!1);l.useEffect(()=>{let m=!0;async function u(){try{const r=await fetch("/api/settings");if(!r.ok){if(!m)return;t({kind:"error",message:r.status===401?"Please sign in to view settings":`Failed to load settings: ${r.status}`,status:r.status});return}const d=await r.json();if(!m)return;t({kind:"loaded",data:d})}catch(r){if(!m)return;t({kind:"error",message:r instanceof Error?r.message:"Failed to load settings"})}}return u(),()=>{m=!1}},[]);const o=l.useCallback(async m=>{if(s.kind!=="loaded")return!1;const u=s.data;t({kind:"loaded",data:{...u,...m,updated_at:new Date().toISOString()}}),i(!0);try{const r=await fetch("/api/settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!r.ok)return t({kind:"loaded",data:u}),!1;const d=await r.json();return t({kind:"loaded",data:d}),!0}catch{return t({kind:"loaded",data:u}),!1}finally{i(!1)}},[s]);return{state:s,isSaving:a,updateSettings:o}}function Fe(){const[s,t]=l.useState({kind:"loading"}),[a,i]=l.useState(!1),[o,m]=l.useState(!1),[u,r]=l.useState(null);l.useEffect(()=>{let c=!0;async function h(){try{const x=await fetch("/api/settings/embeddings");if(!x.ok){if(!c)return;t({kind:"error",message:x.status===401?"Please sign in to view embedding settings":`Failed to load embedding settings: ${x.status}`,status:x.status});return}const w=await x.json();if(!c)return;t({kind:"loaded",data:w})}catch(x){if(!c)return;t({kind:"error",message:x instanceof Error?x.message:"Failed to load embedding settings"})}}return h(),()=>{c=!1}},[]);const d=l.useCallback(async c=>{if(s.kind!=="loaded")return!1;const h=s.data;t({kind:"loaded",data:{...h,budget:{...h.budget,...c}}}),i(!0);try{const x=await fetch("/api/settings/embeddings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!x.ok)return t({kind:"loaded",data:h}),!1;const w=await x.json();return t({kind:"loaded",data:w}),!0}catch{return t({kind:"loaded",data:h}),!1}finally{i(!1)}},[s]),n=l.useCallback(async()=>{m(!0),r(null);try{const c=await fetch("/api/settings/embeddings/test",{method:"POST"});if(!c.ok){const x={success:!1,provider:null,error:`Request failed: ${c.status}`};return r(x),x}const h=await c.json();return r(h),h}catch(c){const h={success:!1,provider:null,error:c instanceof Error?c.message:"Connection test failed"};return r(h),h}finally{m(!1)}},[]),g=l.useCallback(()=>{r(null)},[]);return{state:s,isSaving:a,isTesting:o,testResult:u,updateBudget:d,testConnection:n,clearTestResult:g}}function se({label:s,description:t,children:a,htmlFor:i}){return e.jsxs("div",{className:"flex items-center justify-between gap-4 py-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:i,className:"text-sm font-medium",children:s}),t&&e.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),e.jsx("div",{className:"shrink-0",children:a})]})}function te(s){return{voyageai:"Voyage AI",openai:"OpenAI",gemini:"Gemini"}[s]||s}function $e(s){return s?{environment:"Environment variable",file:"File",command:"Command"}[s]||s:"Not configured"}function _(s){return s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(1)}K`:s.toString()}function q(s){return`$${s.toFixed(2)}`}function De(s,t){return t<=0?0:Math.min(s/t*100,100)}function Oe(s){return s>=100?"text-destructive":s>=80?"text-yellow-600 dark:text-yellow-500":"text-green-600 dark:text-green-500"}function qe({provider:s}){return s?e.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-muted/30 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex size-10 items-center justify-center rounded-full bg-primary/10",children:e.jsx(I,{className:"size-5 text-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:te(s.name)}),e.jsx(J,{variant:"outline",className:"text-xs",children:"Active"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.model," (",s.dimensions,"d)"]})]})]}),e.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[e.jsx("p",{children:"Key source"}),e.jsx("p",{className:"font-medium",children:$e(s.keySource)})]})]}):e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-dashed p-4",children:[e.jsx($,{className:"size-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"No provider configured"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Set an API key for VoyageAI, OpenAI, or Gemini"})]})]})}function Ue({providers:s}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Provider Priority"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(t=>e.jsxs(J,{variant:t.configured?"default":"outline",className:N("gap-1.5",!t.configured&&"text-muted-foreground"),children:[e.jsxs("span",{className:"text-xs opacity-60",children:["#",t.priority]}),te(t.name),t.configured?e.jsx(W,{className:"size-3"}):e.jsx($,{className:"size-3 opacity-50"})]},t.name))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"First configured provider will be used"})]})}function Ve({result:s,onDismiss:t}){return e.jsxs("div",{className:N("flex items-center justify-between rounded-lg border p-3",s.success?"border-green-200 bg-green-50 dark:border-green-900 dark:bg-green-950":"border-red-200 bg-red-50 dark:border-red-900 dark:bg-red-950"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.success?e.jsx(W,{className:"size-4 text-green-600 dark:text-green-400"}):e.jsx($,{className:"size-4 text-red-600 dark:text-red-400"}),e.jsx("span",{className:"text-sm",children:s.success?e.jsxs(e.Fragment,{children:["Connection successful",s.latencyMs&&e.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",s.latencyMs,"ms)"]})]}):s.error||"Connection failed"})]}),e.jsx(K,{variant:"ghost",size:"xs",onClick:t,children:"Dismiss"})]})}function U({label:s,spent:t,limit:a}){const i=De(t,a),o=Oe(i);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:s}),e.jsxs("span",{className:N("font-medium",o),children:[q(t)," / ",q(a)]})]}),e.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-muted",children:e.jsx("div",{className:N("h-full transition-all",i>=100?"bg-destructive":i>=80?"bg-yellow-500":"bg-green-500"),style:{width:`${i}%`}})})]})}function He({usage:s}){return e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1 rounded-lg border bg-muted/30 p-3 text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Today"}),e.jsx("p",{className:"text-lg font-semibold",children:_(s.today.count)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[_(s.today.tokens)," tokens"]})]}),e.jsxs("div",{className:"space-y-1 rounded-lg border bg-muted/30 p-3 text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"This Month"}),e.jsx("p",{className:"text-lg font-semibold",children:_(s.month.count)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[_(s.month.tokens)," tokens"]})]}),e.jsxs("div",{className:"space-y-1 rounded-lg border bg-muted/30 p-3 text-center",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"All Time"}),e.jsx("p",{className:"text-lg font-semibold",children:_(s.total.count)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[_(s.total.tokens)," tokens"]})]})]})}function V({label:s,description:t,value:a,onChange:i,min:o=0,max:m=1e4,disabled:u}){const[r,d]=l.useState(a.toString()),n=l.useCallback(()=>{const g=parseFloat(r);if(Number.isNaN(g)){d(a.toString());return}const c=Math.max(o,Math.min(m,g));d(c.toString()),c!==a&&i(c)},[r,a,o,m,i]);return l.useEffect(()=>{d(a.toString())},[a]),e.jsx(se,{label:s,description:t,children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"$"}),e.jsx(oe,{type:"number",value:r,onChange:g=>d(g.target.value),onBlur:n,min:o,max:m,step:"0.01",disabled:u,className:"w-24 text-right"})]})})}function Ge(){const{state:s,isSaving:t,isTesting:a,testResult:i,updateBudget:o,testConnection:m,clearTestResult:u}=Fe();if(s.kind==="loading")return e.jsxs(j,{"data-testid":"embedding-settings-card",children:[e.jsxs(y,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"size-5 text-muted-foreground"}),e.jsx(b,{children:"Embeddings"})]}),e.jsx(k,{children:"Loading embedding settings..."})]}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(C,{className:"h-20"}),e.jsx(C,{className:"h-32"}),e.jsx(C,{className:"h-24"})]})})]});if(s.kind==="error")return e.jsxs(j,{"data-testid":"embedding-settings-card",children:[e.jsx(y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"size-5 text-muted-foreground"}),e.jsx(b,{children:"Embeddings"})]})}),e.jsx(v,{children:e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:[e.jsx(Me,{className:"size-5 text-destructive"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-destructive",children:"Failed to load settings"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.message})]})]})})]});const{provider:r,availableProviders:d,budget:n,usage:g}=s.data;return e.jsxs(e.Fragment,{children:[e.jsxs(j,{"data-testid":"embedding-settings-card",children:[e.jsxs(y,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"size-5 text-muted-foreground"}),e.jsx(b,{children:"Embedding Provider"})]}),e.jsx(k,{children:"Configure the AI provider for semantic search and memory embeddings"})]}),e.jsxs(v,{className:"space-y-4",children:[e.jsx(qe,{provider:r}),i&&e.jsx(Ve,{result:i,onDismiss:u}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ue,{providers:d}),e.jsx(K,{variant:"outline",size:"sm",onClick:m,disabled:!r||a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"size-4 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Te,{className:"size-4"}),"Test Connection"]})})]})]})]}),e.jsxs(j,{"data-testid":"embedding-budget-card",children:[e.jsxs(y,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"size-5 text-muted-foreground"}),e.jsx(b,{children:"Budget & Usage"})]}),t&&e.jsx("span",{className:"text-sm text-muted-foreground",children:"Saving..."})]}),e.jsx(k,{children:"Control embedding costs and monitor usage"})]}),e.jsxs(v,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(U,{label:"Today",spent:n.todaySpendUsd,limit:n.dailyLimitUsd}),e.jsx(U,{label:"This Month",spent:n.monthSpendUsd,limit:n.monthlyLimitUsd})]}),e.jsxs("div",{className:"space-y-1 divide-y",children:[e.jsx(V,{label:"Daily Limit",description:"Maximum spend per day",value:n.dailyLimitUsd,onChange:c=>o({dailyLimitUsd:c}),max:1e4}),e.jsx(V,{label:"Monthly Limit",description:"Maximum spend per month",value:n.monthlyLimitUsd,onChange:c=>o({monthlyLimitUsd:c}),max:1e5}),e.jsx(se,{label:"Pause on Limit",description:"Stop generating embeddings when budget is exceeded",htmlFor:"pause-on-limit",children:e.jsx(L,{id:"pause-on-limit",checked:n.pauseOnLimit,onCheckedChange:c=>o({pauseOnLimit:c}),"aria-label":"Pause on limit"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-3 text-sm font-medium",children:"Embeddings Generated"}),e.jsx(He,{usage:g})]})]})]})]})}const Ke=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","America/Anchorage","Pacific/Honolulu","Europe/London","Europe/Paris","Europe/Berlin","Asia/Tokyo","Asia/Shanghai","Asia/Singapore","Australia/Sydney","Australia/Melbourne"],Je=[10,25,50,75,100];function F({value:s,label:t,icon:a,isSelected:i,onChange:o}){return e.jsxs("label",{className:N("flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 p-4 transition-all",i?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-muted/50"),children:[e.jsx("input",{type:"radio",name:"theme",value:s,checked:i,onChange:()=>o(s),className:"sr-only","aria-label":t}),e.jsx(a,{className:N("size-6",i?"text-primary":"text-muted-foreground")}),e.jsx("span",{className:N("text-sm font-medium",i?"text-foreground":"text-muted-foreground"),children:t})]})}function S({label:s,description:t,children:a,htmlFor:i}){return e.jsxs("div",{className:"flex items-center justify-between gap-4 py-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:i,className:"text-sm font-medium",children:s}),t&&e.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),e.jsx("div",{className:"shrink-0",children:a})]})}function We(){const{state:s,isSaving:t,updateSettings:a}=Re(),i=l.useCallback(n=>{a({theme:n});const g=document.documentElement,c=window.matchMedia("(prefers-color-scheme: dark)"),h=n==="dark"||n==="system"&&c.matches;g.classList.toggle("dark",h),localStorage.setItem("theme",n)},[a]),o=l.useCallback(n=>{a({default_view:n})},[a]),m=l.useCallback(n=>{a({timezone:n})},[a]),u=l.useCallback(n=>{a({items_per_page:parseInt(n,10)})},[a]),r=l.useCallback(n=>{a({email_digest_frequency:n})},[a]);if(s.kind==="loading")return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[e.jsx(C,{className:"h-8 w-32"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(C,{className:"h-48"}),e.jsx(C,{className:"h-48"}),e.jsx(C,{className:"h-48"})]})]})});if(s.kind==="error")return e.jsx("div",{className:"flex flex-col items-center justify-center p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-destructive",children:"Error"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:s.message}),s.status===401&&e.jsx("a",{href:"/app/auth",className:"mt-4 inline-block text-primary hover:underline",children:"Sign in"})]})});const d=s.data;return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),t&&e.jsx("span",{className:"text-sm text-muted-foreground",children:"Saving..."})]}),e.jsxs(j,{"data-testid":"settings-card",children:[e.jsxs(y,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"size-5 text-muted-foreground"}),e.jsx(b,{children:"Appearance"})]}),e.jsx(k,{children:"Customize how the application looks"})]}),e.jsx(v,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"mb-3 block text-sm font-medium",children:"Theme"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(F,{value:"light",label:"Light",icon:O,isSelected:d.theme==="light",onChange:i}),e.jsx(F,{value:"dark",label:"Dark",icon:ke,isSelected:d.theme==="dark",onChange:i}),e.jsx(F,{value:"system",label:"System",icon:ve,isSelected:d.theme==="system",onChange:i})]})]})})})]}),e.jsxs(j,{"data-testid":"settings-card",children:[e.jsxs(y,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"size-5 text-muted-foreground"}),e.jsx(b,{children:"Navigation"})]}),e.jsx(k,{children:"Configure your default views and layout"})]}),e.jsxs(v,{className:"space-y-1 divide-y",children:[e.jsx(S,{label:"Default View",description:"The page to show when you open the app",children:e.jsxs(T,{value:d.default_view,onValueChange:n=>o(n),children:[e.jsx(E,{className:"w-[140px]","aria-label":"Default view",children:e.jsx(z,{})}),e.jsxs(A,{children:[e.jsx(f,{value:"activity",children:"Activity"}),e.jsx(f,{value:"projects",children:"Projects"}),e.jsx(f,{value:"timeline",children:"Timeline"}),e.jsx(f,{value:"contacts",children:"People"})]})]})}),e.jsx(S,{label:"Sidebar Collapsed",description:"Start with the sidebar collapsed",htmlFor:"sidebar-collapsed",children:e.jsx(L,{id:"sidebar-collapsed",checked:d.sidebar_collapsed,onCheckedChange:n=>a({sidebar_collapsed:n}),"aria-label":"Sidebar collapsed"})})]})]}),e.jsxs(j,{"data-testid":"settings-card",children:[e.jsxs(y,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"size-5 text-muted-foreground"}),e.jsx(b,{children:"Display"})]}),e.jsx(k,{children:"Control what items are shown"})]}),e.jsxs(v,{className:"space-y-1 divide-y",children:[e.jsx(S,{label:"Show Completed Items",description:"Show completed items in lists",htmlFor:"show-completed",children:e.jsx(L,{id:"show-completed",checked:d.show_completed_items,onCheckedChange:n=>a({show_completed_items:n}),"aria-label":"Show completed items"})}),e.jsx(S,{label:"Items Per Page",description:"Number of items to show in lists",children:e.jsxs(T,{value:String(d.items_per_page),onValueChange:u,children:[e.jsx(E,{className:"w-[100px]",children:e.jsx(z,{})}),e.jsx(A,{children:Je.map(n=>e.jsx(f,{value:String(n),children:n},n))})]})})]})]}),e.jsxs(j,{"data-testid":"settings-card",children:[e.jsxs(y,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"size-5 text-muted-foreground"}),e.jsx(b,{children:"Notifications"})]}),e.jsx(k,{children:"Configure how you receive notifications"})]}),e.jsxs(v,{className:"space-y-1 divide-y",children:[e.jsx(S,{label:"Email Notifications",description:"Receive email notifications for updates",htmlFor:"email-notifications",children:e.jsx(L,{id:"email-notifications",checked:d.email_notifications,onCheckedChange:n=>a({email_notifications:n}),"aria-label":"Email notifications"})}),e.jsx(S,{label:"Email Digest",description:"How often to receive digest emails",children:e.jsxs(T,{value:d.email_digest_frequency,onValueChange:n=>r(n),disabled:!d.email_notifications,children:[e.jsx(E,{className:"w-[120px]",children:e.jsx(z,{})}),e.jsxs(A,{children:[e.jsx(f,{value:"never",children:"Never"}),e.jsx(f,{value:"daily",children:"Daily"}),e.jsx(f,{value:"weekly",children:"Weekly"})]})]})})]})]}),e.jsxs(j,{"data-testid":"settings-card",children:[e.jsxs(y,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"size-5 text-muted-foreground"}),e.jsx(b,{children:"Regional"})]}),e.jsx(k,{children:"Configure regional preferences"})]}),e.jsx(v,{children:e.jsx(S,{label:"Timezone",description:"Your timezone for displaying dates and times",children:e.jsxs(T,{value:d.timezone,onValueChange:m,children:[e.jsx(E,{className:"w-[180px]",children:e.jsx(z,{})}),e.jsx(A,{children:Ke.map(n=>e.jsx(f,{value:n,children:n.replace(/_/g," ")},n))})]})})})]}),e.jsx(Ge,{})]})})}function os(){return e.jsx("div",{"data-testid":"page-settings",children:e.jsx(We,{})})}export{os as SettingsPage};
//# sourceMappingURL=SettingsPage-BDgdiMFJ.js.map
