import{c as M,u as H}from"./button-B4tyHn7n.js";import{r as s,j as f}from"./index-Dmu1Cmf3.js";import{P as D,c as m,a as Y,d as $,u as q}from"./index-DT505RDd.js";import{u as J,c as Q,a as W}from"./index-BdkY-9YW.js";const X=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ve=M("pencil",X);const Z=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ie=M("trash-2",Z);var x="rovingFocusGroup.onEntryFocus",ee={bubbles:!1,cancelable:!0},I="RovingFocusGroup",[A,N,te]=Q(I),[oe,be]=Y(I,[te]),[re,ne]=oe(I),G=s.forwardRef((e,r)=>f.jsx(A.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(A.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(se,{...e,ref:r})})}));G.displayName=I;var se=s.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:c,orientation:t,loop:E=!1,dir:T,currentTabStopId:v,defaultCurrentTabStopId:w,onCurrentTabStopIdChange:C,onEntryFocus:p,preventScrollOnEntryFocus:a=!1,...b}=e,F=s.useRef(null),g=H(r,F),R=$(T),[h,o]=W({prop:v,defaultProp:w??null,onChange:C,caller:I}),[i,S]=s.useState(!1),u=q(p),l=N(c),y=s.useRef(!1),[L,P]=s.useState(0);return s.useEffect(()=>{const n=F.current;if(n)return n.addEventListener(x,u),()=>n.removeEventListener(x,u)},[u]),f.jsx(re,{scope:c,orientation:t,dir:R,loop:E,currentTabStopId:h,onItemFocus:s.useCallback(n=>o(n),[o]),onItemShiftTab:s.useCallback(()=>S(!0),[]),onFocusableItemAdd:s.useCallback(()=>P(n=>n+1),[]),onFocusableItemRemove:s.useCallback(()=>P(n=>n-1),[]),children:f.jsx(D.div,{tabIndex:i||L===0?-1:0,"data-orientation":t,...b,ref:g,style:{outline:"none",...e.style},onMouseDown:m(e.onMouseDown,()=>{y.current=!0}),onFocus:m(e.onFocus,n=>{const U=!y.current;if(n.target===n.currentTarget&&U&&!i){const k=new CustomEvent(x,ee);if(n.currentTarget.dispatchEvent(k),!k.defaultPrevented){const _=l().filter(d=>d.focusable),B=_.find(d=>d.active),V=_.find(d=>d.id===h),z=[B,V,..._].filter(Boolean).map(d=>d.ref.current);K(z,a)}}y.current=!1}),onBlur:m(e.onBlur,()=>S(!1))})})}),O="RovingFocusGroupItem",j=s.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:c,focusable:t=!0,active:E=!1,tabStopId:T,children:v,...w}=e,C=J(),p=T||C,a=ne(O,c),b=a.currentTabStopId===p,F=N(c),{onFocusableItemAdd:g,onFocusableItemRemove:R,currentTabStopId:h}=a;return s.useEffect(()=>{if(t)return g(),()=>R()},[t,g,R]),f.jsx(A.ItemSlot,{scope:c,id:p,focusable:t,active:E,children:f.jsx(D.span,{tabIndex:b?0:-1,"data-orientation":a.orientation,...w,ref:r,onMouseDown:m(e.onMouseDown,o=>{t?a.onItemFocus(p):o.preventDefault()}),onFocus:m(e.onFocus,()=>a.onItemFocus(p)),onKeyDown:m(e.onKeyDown,o=>{if(o.key==="Tab"&&o.shiftKey){a.onItemShiftTab();return}if(o.target!==o.currentTarget)return;const i=ue(o,a.orientation,a.dir);if(i!==void 0){if(o.metaKey||o.ctrlKey||o.altKey||o.shiftKey)return;o.preventDefault();let u=F().filter(l=>l.focusable).map(l=>l.ref.current);if(i==="last")u.reverse();else if(i==="prev"||i==="next"){i==="prev"&&u.reverse();const l=u.indexOf(o.currentTarget);u=a.loop?ie(u,l+1):u.slice(l+1)}setTimeout(()=>K(u))}}),children:typeof v=="function"?v({isCurrentTabStop:b,hasTabStop:h!=null}):v})})});j.displayName=O;var ce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ae(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ue(e,r,c){const t=ae(e.key,c);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(t))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(t)))return ce[t]}function K(e,r=!1){const c=document.activeElement;for(const t of e)if(t===c||(t.focus({preventScroll:r}),document.activeElement!==c))return}function ie(e,r){return e.map((c,t)=>e[(r+t)%e.length])}var Fe=G,ge=j;export{ge as I,ve as P,Fe as R,Ie as T,be as c};
//# sourceMappingURL=index-CqAfc_78.js.map
