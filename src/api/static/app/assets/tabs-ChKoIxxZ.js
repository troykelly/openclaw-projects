import{c as K,a as f,f as N}from"./button-BqoICpPk.js";import{S as A,s as q,h as T,g as F,n as C,b as w,r as l,e as z,f as L,j as n}from"./index-dxUAcY-k.js";import{a as V}from"./api-client-CDvRtWmo.js";import{w as p}from"./use-work-items-BlOmoQYr.js";import{d as $,P as g,c as y,a as G}from"./index-6gjEHE0t.js";import{R as Q,I as U,c as M}from"./index-CGYBnVZB.js";import{P as B}from"./index-CsDA_5tK.js";import{a as H,u as W}from"./index-VD3BCwW8.js";var J=class extends A{#e;#s=void 0;#t;#a;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#e.defaultMutationOptions(t),q(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),e?.mutationKey&&this.options.mutationKey&&T(e.mutationKey)!==T(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#i(t)}getCurrentResult(){return this.#s}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#r(),this.#i()}mutate(t,e){return this.#a=e,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(t)}#r(){const t=this.#t?.state??F();this.#s={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){C.batch(()=>{if(this.#a&&this.hasListeners()){const e=this.#s.variables,s=this.#s.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#a.onSuccess?.(t.data,e,s,a)}catch(r){Promise.reject(r)}try{this.#a.onSettled?.(t.data,null,e,s,a)}catch(r){Promise.reject(r)}}else if(t?.type==="error"){try{this.#a.onError?.(t.error,e,s,a)}catch(r){Promise.reject(r)}try{this.#a.onSettled?.(void 0,t.error,e,s,a)}catch(r){Promise.reject(r)}}}this.listeners.forEach(e=>{e(this.#s)})})}};function X(t,e){const s=w(),[a]=l.useState(()=>new J(s,t));l.useEffect(()=>{a.setOptions(t)},[a,t]);const r=l.useSyncExternalStore(l.useCallback(i=>a.subscribe(C.batchCalls(i)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=l.useCallback((i,d)=>{a.mutate(i,d).catch(z)},[a]);if(r.error&&L(a.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:u,mutateAsync:r.mutate}}const Y=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],vt=K("git-branch",Y);function bt(){const t=w();return X({mutationFn:({id:e,body:s})=>V.put(`/api/work-items/${e}`,s),onMutate:async({id:e,body:s})=>{await t.cancelQueries({queryKey:p.detail(e)});const a=t.getQueryData(p.detail(e));if(a){const r={...a,...s.title!==void 0?{title:s.title}:{},...s.status!==void 0?{status:s.status}:{},...s.priority!==void 0?{priority:s.priority}:{},...s.description!==void 0?{description:s.description}:{}};t.setQueryData(p.detail(e),r)}return{previousDetail:a}},onError:(e,{id:s},a)=>{a?.previousDetail&&t.setQueryData(p.detail(s),a.previousDetail)},onSettled:(e,s,{id:a})=>{t.invalidateQueries({queryKey:p.detail(a)}),t.invalidateQueries({queryKey:p.lists()}),t.invalidateQueries({queryKey:p.tree()})}})}var m="Tabs",[Z]=G(m,[M]),j=M(),[tt,x]=Z(m),k=l.forwardRef((t,e)=>{const{__scopeTabs:s,value:a,onValueChange:r,defaultValue:u,orientation:i="horizontal",dir:d,activationMode:v="automatic",...b}=t,c=$(d),[o,h]=H({prop:a,onChange:r,defaultProp:u??"",caller:m});return n.jsx(tt,{scope:s,baseId:W(),value:o,onValueChange:h,orientation:i,dir:c,activationMode:v,children:n.jsx(g.div,{dir:c,"data-orientation":i,...b,ref:e})})});k.displayName=m;var I="TabsList",S=l.forwardRef((t,e)=>{const{__scopeTabs:s,loop:a=!0,...r}=t,u=x(I,s),i=j(s);return n.jsx(Q,{asChild:!0,...i,orientation:u.orientation,dir:u.dir,loop:a,children:n.jsx(g.div,{role:"tablist","aria-orientation":u.orientation,...r,ref:e})})});S.displayName=I;var _="TabsTrigger",E=l.forwardRef((t,e)=>{const{__scopeTabs:s,value:a,disabled:r=!1,...u}=t,i=x(_,s),d=j(s),v=O(i.baseId,a),b=D(i.baseId,a),c=a===i.value;return n.jsx(U,{asChild:!0,...d,focusable:!r,active:c,children:n.jsx(g.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":b,"data-state":c?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:v,...u,ref:e,onMouseDown:y(t.onMouseDown,o=>{!r&&o.button===0&&o.ctrlKey===!1?i.onValueChange(a):o.preventDefault()}),onKeyDown:y(t.onKeyDown,o=>{[" ","Enter"].includes(o.key)&&i.onValueChange(a)}),onFocus:y(t.onFocus,()=>{const o=i.activationMode!=="manual";!c&&!r&&o&&i.onValueChange(a)})})})});E.displayName=_;var R="TabsContent",P=l.forwardRef((t,e)=>{const{__scopeTabs:s,value:a,forceMount:r,children:u,...i}=t,d=x(R,s),v=O(d.baseId,a),b=D(d.baseId,a),c=a===d.value,o=l.useRef(c);return l.useEffect(()=>{const h=requestAnimationFrame(()=>o.current=!1);return()=>cancelAnimationFrame(h)},[]),n.jsx(B,{present:r||c,children:({present:h})=>n.jsx(g.div,{"data-state":c?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":v,hidden:!h,id:b,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:o.current?"0s":void 0},children:h&&u})})});P.displayName=R;function O(t,e){return`${t}-trigger-${e}`}function D(t,e){return`${t}-content-${e}`}var et=k,at=S,st=E,rt=P;function ft({className:t,orientation:e="horizontal",...s}){return n.jsx(et,{"data-slot":"tabs","data-orientation":e,orientation:e,className:f("group/tabs flex gap-2 data-[orientation=horizontal]:flex-col",t),...s})}const it=N("rounded-lg p-[3px] group-data-[orientation=horizontal]/tabs:h-9 data-[variant=line]:rounded-none group/tabs-list text-muted-foreground inline-flex w-fit items-center justify-center group-data-[orientation=vertical]/tabs:h-fit group-data-[orientation=vertical]/tabs:flex-col",{variants:{variant:{default:"bg-muted",line:"gap-1 bg-transparent"}},defaultVariants:{variant:"default"}});function gt({className:t,variant:e="default",...s}){return n.jsx(at,{"data-slot":"tabs-list","data-variant":e,className:f(it({variant:e}),t),...s})}function mt({className:t,...e}){return n.jsx(st,{"data-slot":"tabs-trigger",className:f("focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground/60 hover:text-foreground dark:text-muted-foreground dark:hover:text-foreground relative inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-all group-data-[orientation=vertical]/tabs:w-full group-data-[orientation=vertical]/tabs:justify-start focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 group-data-[variant=default]/tabs-list:data-[state=active]:shadow-sm group-data-[variant=line]/tabs-list:data-[state=active]:shadow-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4","group-data-[variant=line]/tabs-list:bg-transparent group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:border-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent","data-[state=active]:bg-background dark:data-[state=active]:text-foreground dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 data-[state=active]:text-foreground","after:bg-foreground after:absolute after:opacity-0 after:transition-opacity group-data-[orientation=horizontal]/tabs:after:inset-x-0 group-data-[orientation=horizontal]/tabs:after:bottom-[-5px] group-data-[orientation=horizontal]/tabs:after:h-0.5 group-data-[orientation=vertical]/tabs:after:inset-y-0 group-data-[orientation=vertical]/tabs:after:-right-1 group-data-[orientation=vertical]/tabs:after:w-0.5 group-data-[variant=line]/tabs-list:data-[state=active]:after:opacity-100",t),...e})}function yt({className:t,...e}){return n.jsx(rt,{"data-slot":"tabs-content",className:f("flex-1 outline-none",t),...e})}export{vt as G,ft as T,gt as a,mt as b,yt as c,bt as d,X as u};
//# sourceMappingURL=tabs-ChKoIxxZ.js.map
