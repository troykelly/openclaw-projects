{"version":3,"file":"ContactsPage-BtDqwCl4.js","sources":["../../../../../node_modules/.pnpm/lucide-react@0.563.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/arrow-up-down.js","../../../../../node_modules/.pnpm/lucide-react@0.563.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/grid-3x3.js","../../../../../node_modules/.pnpm/lucide-react@0.563.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/phone.js","../../../../../node_modules/.pnpm/lucide-react@0.563.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/user-plus.js","../../../../ui/components/ui/sheet.tsx","../../../../ui/hooks/queries/use-contacts.ts","../../../../ui/pages/ContactsPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m21 16-4 4-4-4\", key: \"f6ql7i\" }],\n  [\"path\", { d: \"M17 20V4\", key: \"1ejh1v\" }],\n  [\"path\", { d: \"m3 8 4-4 4 4\", key: \"11wl7u\" }],\n  [\"path\", { d: \"M7 4v16\", key: \"1glfcx\" }]\n];\nconst ArrowUpDown = createLucideIcon(\"arrow-up-down\", __iconNode);\n\nexport { __iconNode, ArrowUpDown as default };\n//# sourceMappingURL=arrow-up-down.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M3 15h18\", key: \"5xshup\" }],\n  [\"path\", { d: \"M9 3v18\", key: \"fh3hqa\" }],\n  [\"path\", { d: \"M15 3v18\", key: \"14nvp0\" }]\n];\nconst Grid3x3 = createLucideIcon(\"grid-3x3\", __iconNode);\n\nexport { __iconNode, Grid3x3 as default };\n//# sourceMappingURL=grid-3x3.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384\",\n      key: \"9njp5v\"\n    }\n  ]\n];\nconst Phone = createLucideIcon(\"phone\", __iconNode);\n\nexport { __iconNode, Phone as default };\n//# sourceMappingURL=phone.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"line\", { x1: \"19\", x2: \"19\", y1: \"8\", y2: \"14\", key: \"1bvyxn\" }],\n  [\"line\", { x1: \"22\", x2: \"16\", y1: \"11\", y2: \"11\", key: \"1shjgl\" }]\n];\nconst UserPlus = createLucideIcon(\"user-plus\", __iconNode);\n\nexport { __iconNode, UserPlus as default };\n//# sourceMappingURL=user-plus.js.map\n","import * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/ui/lib/utils\"\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = \"right\",\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\"\n  showCloseButton?: boolean\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n          side === \"right\" &&\n            \"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm\",\n          side === \"left\" &&\n            \"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm\",\n          side === \"top\" &&\n            \"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b\",\n          side === \"bottom\" &&\n            \"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n            <XIcon className=\"size-4\" />\n            <span className=\"sr-only\">Close</span>\n          </SheetPrimitive.Close>\n        )}\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  )\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn(\"flex flex-col gap-1.5 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn(\"text-foreground font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sheet,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","/**\n * TanStack Query hooks for contacts.\n *\n * Provides queries for the contacts list (with optional search) and\n * individual contact detail by ID.\n */\nimport { useQuery } from '@tanstack/react-query';\nimport { apiClient } from '@/ui/lib/api-client.ts';\nimport type { Contact, ContactsResponse } from '@/ui/lib/api-types.ts';\n\n/** Query key factory for contacts. */\nexport const contactKeys = {\n  all: ['contacts'] as const,\n  lists: () => [...contactKeys.all, 'list'] as const,\n  list: (search?: string) => [...contactKeys.lists(), search] as const,\n  detail: (id: string) => [...contactKeys.all, 'detail', id] as const,\n};\n\n/**\n * Fetch the contacts list with optional search filtering.\n *\n * @param search - Optional search term\n * @returns TanStack Query result with `ContactsResponse`\n */\nexport function useContacts(search?: string) {\n  const queryString = search\n    ? `?search=${encodeURIComponent(search)}`\n    : '';\n\n  return useQuery({\n    queryKey: contactKeys.list(search),\n    queryFn: ({ signal }) =>\n      apiClient.get<ContactsResponse>(`/api/contacts${queryString}`, { signal }),\n  });\n}\n\n/**\n * Fetch a single contact by ID.\n *\n * @param id - The contact UUID\n * @returns TanStack Query result with `Contact`\n */\nexport function useContactDetail(id: string) {\n  return useQuery({\n    queryKey: contactKeys.detail(id),\n    queryFn: ({ signal }) =>\n      apiClient.get<Contact>(`/api/contacts/${id}`, { signal }),\n    enabled: !!id,\n  });\n}\n","/**\n * Contacts list page.\n *\n * Displays a searchable, sortable grid of contact cards with avatar,\n * name, email, phone, company, role, and linked item counts. Supports\n * creating and editing contacts via a dialog, viewing details in a\n * slide-out sheet, and navigating to the full contact detail page.\n *\n * Uses the typed API client and TanStack Query hooks for data fetching.\n */\nimport React, { useState, useMemo, useCallback } from 'react';\nimport { useNavigate } from 'react-router';\nimport {\n  Search,\n  UserPlus,\n  ArrowUpDown,\n  Grid3X3,\n  List,\n  Mail,\n  Phone,\n  Building,\n  Briefcase,\n  Link2,\n} from 'lucide-react';\nimport { apiClient } from '@/ui/lib/api-client';\nimport type { Contact, ContactsResponse, ContactBody } from '@/ui/lib/api-types';\nimport { getInitials } from '@/ui/lib/work-item-utils';\nimport {\n  Skeleton,\n  SkeletonList,\n  ErrorState,\n  EmptyState,\n} from '@/ui/components/feedback';\nimport { Button } from '@/ui/components/ui/button';\nimport { Input } from '@/ui/components/ui/input';\nimport { Badge } from '@/ui/components/ui/badge';\nimport { Card, CardContent } from '@/ui/components/ui/card';\nimport { ScrollArea } from '@/ui/components/ui/scroll-area';\nimport { Separator } from '@/ui/components/ui/separator';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '@/ui/components/ui/dialog';\nimport { Textarea } from '@/ui/components/ui/textarea';\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from '@/ui/components/ui/sheet';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/ui/components/ui/select';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/ui/components/ui/dropdown-menu';\nimport { useContacts } from '@/ui/hooks/queries/use-contacts';\n\n/** Sort options for the contacts list. */\ntype SortField = 'name' | 'recent' | 'endpoints';\n\n/** View mode for the contacts list. */\ntype ViewMode = 'grid' | 'list';\n\n/** Get primary endpoint value by type. */\nfunction getEndpointValue(contact: Contact, type: string): string | null {\n  const ep = contact.endpoints.find((e) => e.type === type);\n  return ep?.value ?? null;\n}\n\n/** Sort contacts by the chosen field. */\nfunction sortContacts(contacts: Contact[], field: SortField): Contact[] {\n  const sorted = [...contacts];\n  switch (field) {\n    case 'name':\n      return sorted.sort((a, b) =>\n        a.display_name.localeCompare(b.display_name),\n      );\n    case 'recent':\n      return sorted.sort(\n        (a, b) =>\n          new Date(b.created_at).getTime() - new Date(a.created_at).getTime(),\n      );\n    case 'endpoints':\n      return sorted.sort(\n        (a, b) => b.endpoints.length - a.endpoints.length,\n      );\n    default:\n      return sorted;\n  }\n}\n\nexport function ContactsPage(): React.JSX.Element {\n  const [search, setSearch] = useState('');\n  const [debouncedSearch, setDebouncedSearch] = useState('');\n  const [sortField, setSortField] = useState<SortField>('name');\n  const [viewMode, setViewMode] = useState<ViewMode>('grid');\n  const [selectedContact, setSelectedContact] = useState<Contact | null>(null);\n  const [detailOpen, setDetailOpen] = useState(false);\n  const [formOpen, setFormOpen] = useState(false);\n  const [editingContact, setEditingContact] = useState<Contact | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const navigate = useNavigate();\n\n  // Debounced search with TanStack Query\n  React.useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearch(search);\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [search]);\n\n  const {\n    data,\n    isLoading,\n    isError,\n    error,\n    refetch,\n  } = useContacts(debouncedSearch || undefined);\n\n  /** Sorted contacts list. */\n  const sortedContacts = useMemo(() => {\n    if (!data?.contacts) return [];\n    return sortContacts(data.contacts, sortField);\n  }, [data?.contacts, sortField]);\n\n  const handleContactClick = useCallback((contact: Contact) => {\n    setSelectedContact(contact);\n    setDetailOpen(true);\n  }, []);\n\n  const handleNavigateToDetail = useCallback(\n    (contact: Contact) => {\n      navigate(`/people/${contact.id}`);\n    },\n    [navigate],\n  );\n\n  const handleCreateContact = useCallback(\n    async (body: ContactBody) => {\n      setIsSubmitting(true);\n      try {\n        await apiClient.post('/api/contacts', body);\n        setFormOpen(false);\n        setEditingContact(null);\n        refetch();\n      } catch (err) {\n        console.error('Failed to create contact:', err);\n      } finally {\n        setIsSubmitting(false);\n      }\n    },\n    [refetch],\n  );\n\n  const handleUpdateContact = useCallback(\n    async (body: ContactBody) => {\n      if (!editingContact) return;\n      setIsSubmitting(true);\n      try {\n        await apiClient.patch(`/api/contacts/${editingContact.id}`, body);\n        setFormOpen(false);\n        setEditingContact(null);\n        setDetailOpen(false);\n        setSelectedContact(null);\n        refetch();\n      } catch (err) {\n        console.error('Failed to update contact:', err);\n      } finally {\n        setIsSubmitting(false);\n      }\n    },\n    [editingContact, refetch],\n  );\n\n  const handleDeleteContact = useCallback(\n    async (contact: Contact) => {\n      try {\n        await apiClient.delete(`/api/contacts/${contact.id}`);\n        setDetailOpen(false);\n        setSelectedContact(null);\n        refetch();\n      } catch (err) {\n        console.error('Failed to delete contact:', err);\n      }\n    },\n    [refetch],\n  );\n\n  const handleEdit = useCallback((contact: Contact) => {\n    setEditingContact(contact);\n    setDetailOpen(false);\n    setFormOpen(true);\n  }, []);\n\n  const handleAddNew = useCallback(() => {\n    setEditingContact(null);\n    setFormOpen(true);\n  }, []);\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div data-testid=\"page-contacts\" className=\"p-6\">\n        <div className=\"mb-6 flex items-center justify-between\">\n          <Skeleton width={200} height={32} />\n          <Skeleton width={120} height={36} />\n        </div>\n        <Skeleton width=\"100%\" height={40} className=\"mb-4\" />\n        <SkeletonList count={6} variant=\"card\" />\n      </div>\n    );\n  }\n\n  // Error state\n  if (isError) {\n    return (\n      <div data-testid=\"page-contacts\" className=\"p-6\">\n        <ErrorState\n          type=\"generic\"\n          title=\"Failed to load contacts\"\n          description={error instanceof Error ? error.message : 'Unknown error'}\n          onRetry={() => refetch()}\n        />\n      </div>\n    );\n  }\n\n  const total = data?.total ?? 0;\n\n  return (\n    <div data-testid=\"page-contacts\" className=\"p-6 h-full flex flex-col\">\n      {/* Header */}\n      <div className=\"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-semibold text-foreground\">People</h1>\n          <p className=\"text-sm text-muted-foreground mt-1\">\n            {total} contact{total !== 1 ? 's' : ''}\n          </p>\n        </div>\n        <Button onClick={handleAddNew} data-testid=\"add-contact-button\">\n          <UserPlus className=\"mr-2 size-4\" />\n          Add Contact\n        </Button>\n      </div>\n\n      {/* Search and Controls */}\n      <div className=\"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center\">\n        <div className=\"relative flex-1 max-w-md\">\n          <Search className=\"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            type=\"text\"\n            placeholder=\"Search contacts...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            className=\"pl-9\"\n            data-testid=\"contact-search-input\"\n          />\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          {/* Sort */}\n          <Select\n            value={sortField}\n            onValueChange={(v) => setSortField(v as SortField)}\n          >\n            <SelectTrigger className=\"w-[150px]\" data-testid=\"sort-select\">\n              <ArrowUpDown className=\"mr-2 size-4\" />\n              <SelectValue placeholder=\"Sort by\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"name\">Name</SelectItem>\n              <SelectItem value=\"recent\">Most Recent</SelectItem>\n              <SelectItem value=\"endpoints\">Endpoints</SelectItem>\n            </SelectContent>\n          </Select>\n\n          {/* View mode toggle */}\n          <div className=\"flex rounded-md border\">\n            <Button\n              variant={viewMode === 'grid' ? 'default' : 'ghost'}\n              size=\"icon\"\n              className=\"rounded-r-none size-9\"\n              onClick={() => setViewMode('grid')}\n              title=\"Grid view\"\n              data-testid=\"view-grid\"\n            >\n              <Grid3X3 className=\"size-4\" />\n            </Button>\n            <Button\n              variant={viewMode === 'list' ? 'default' : 'ghost'}\n              size=\"icon\"\n              className=\"rounded-l-none size-9\"\n              onClick={() => setViewMode('list')}\n              title=\"List view\"\n              data-testid=\"view-list\"\n            >\n              <List className=\"size-4\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Contacts List / Grid */}\n      {sortedContacts.length === 0 ? (\n        <Card>\n          <CardContent className=\"p-8\">\n            <EmptyState\n              variant=\"contacts\"\n              title={search ? 'No contacts found' : 'No contacts yet'}\n              description={\n                search\n                  ? 'Try a different search term.'\n                  : 'Add your first contact to get started.'\n              }\n              onAction={!search ? handleAddNew : undefined}\n              actionLabel=\"Add Contact\"\n            />\n          </CardContent>\n        </Card>\n      ) : (\n        <ScrollArea className=\"flex-1\">\n          {viewMode === 'grid' ? (\n            /* Grid View */\n            <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\" data-testid=\"contacts-grid\">\n              {sortedContacts.map((contact) => {\n                const email = getEndpointValue(contact, 'email');\n                const phone = getEndpointValue(contact, 'phone');\n                return (\n                  <Card\n                    key={contact.id}\n                    data-testid=\"contact-card\"\n                    className=\"cursor-pointer transition-colors hover:bg-muted/50\"\n                    onClick={() => handleContactClick(contact)}\n                  >\n                    <CardContent className=\"p-4\">\n                      <div className=\"flex items-start gap-3\">\n                        <div className=\"flex size-12 shrink-0 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary\">\n                          {getInitials(contact.display_name)}\n                        </div>\n                        <div className=\"min-w-0 flex-1\">\n                          <h3 className=\"font-medium text-foreground truncate\">\n                            {contact.display_name}\n                          </h3>\n                          {email && (\n                            <p className=\"flex items-center gap-1 text-sm text-muted-foreground truncate mt-0.5\">\n                              <Mail className=\"size-3 shrink-0\" />\n                              {email}\n                            </p>\n                          )}\n                          {phone && (\n                            <p className=\"flex items-center gap-1 text-sm text-muted-foreground truncate mt-0.5\">\n                              <Phone className=\"size-3 shrink-0\" />\n                              {phone}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                      {contact.endpoints.length > 0 && (\n                        <div className=\"mt-3 flex items-center gap-2\">\n                          <Badge variant=\"secondary\" className=\"text-xs gap-1\">\n                            <Link2 className=\"size-3\" />\n                            {contact.endpoints.length} endpoint\n                            {contact.endpoints.length !== 1 ? 's' : ''}\n                          </Badge>\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                );\n              })}\n            </div>\n          ) : (\n            /* List View */\n            <Card data-testid=\"contacts-list\">\n              <CardContent className=\"p-0\">\n                <div className=\"divide-y\">\n                  {sortedContacts.map((contact) => {\n                    const email = getEndpointValue(contact, 'email');\n                    const phone = getEndpointValue(contact, 'phone');\n                    return (\n                      <button\n                        key={contact.id}\n                        data-testid=\"contact-row\"\n                        onClick={() => handleContactClick(contact)}\n                        className=\"w-full p-4 text-left hover:bg-muted/50 transition-colors flex items-center gap-3\"\n                      >\n                        <div className=\"flex size-10 shrink-0 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary\">\n                          {getInitials(contact.display_name)}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"font-medium text-foreground truncate\">\n                            {contact.display_name}\n                          </p>\n                          <div className=\"flex items-center gap-3 text-sm text-muted-foreground mt-0.5\">\n                            {email && (\n                              <span className=\"flex items-center gap-1 truncate\">\n                                <Mail className=\"size-3 shrink-0\" />\n                                {email}\n                              </span>\n                            )}\n                            {phone && (\n                              <span className=\"flex items-center gap-1 truncate\">\n                                <Phone className=\"size-3 shrink-0\" />\n                                {phone}\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                        <Badge variant=\"secondary\" className=\"shrink-0\">\n                          {contact.endpoints.length} endpoint\n                          {contact.endpoints.length !== 1 ? 's' : ''}\n                        </Badge>\n                      </button>\n                    );\n                  })}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </ScrollArea>\n      )}\n\n      {/* Contact Detail Sheet (slide-out panel) */}\n      <Sheet open={detailOpen} onOpenChange={setDetailOpen}>\n        <SheetContent className=\"w-96 sm:max-w-md\" data-testid=\"contact-detail-sheet\">\n          <SheetHeader>\n            <SheetTitle className=\"sr-only\">Contact Details</SheetTitle>\n            <SheetDescription className=\"sr-only\">\n              View contact information and endpoints\n            </SheetDescription>\n          </SheetHeader>\n\n          {selectedContact && (\n            <ScrollArea className=\"h-full\">\n              <div className=\"space-y-6 pb-6\">\n                {/* Header */}\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"flex size-16 items-center justify-center rounded-full bg-primary/10 text-xl font-medium text-primary\">\n                    {getInitials(selectedContact.display_name)}\n                  </div>\n                  <div className=\"min-w-0 flex-1\">\n                    <h2 className=\"text-lg font-semibold\">\n                      {selectedContact.display_name}\n                    </h2>\n                    {getEndpointValue(selectedContact, 'email') && (\n                      <p className=\"text-sm text-muted-foreground\">\n                        {getEndpointValue(selectedContact, 'email')}\n                      </p>\n                    )}\n                  </div>\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex gap-2\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleNavigateToDetail(selectedContact)}\n                    data-testid=\"view-full-detail\"\n                  >\n                    View Full Profile\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleEdit(selectedContact)}\n                  >\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"text-destructive hover:text-destructive\"\n                    onClick={() => handleDeleteContact(selectedContact)}\n                  >\n                    Delete\n                  </Button>\n                </div>\n\n                <Separator />\n\n                {/* Notes */}\n                {selectedContact.notes && (\n                  <>\n                    <div>\n                      <h3 className=\"text-sm font-medium mb-2\">Notes</h3>\n                      <p className=\"text-sm text-muted-foreground bg-muted/50 p-3 rounded-md\">\n                        {selectedContact.notes}\n                      </p>\n                    </div>\n                    <Separator />\n                  </>\n                )}\n\n                {/* Endpoints */}\n                <div>\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h3 className=\"text-sm font-medium\">Endpoints</h3>\n                    <Badge variant=\"secondary\" className=\"text-xs\">\n                      {selectedContact.endpoints.length}\n                    </Badge>\n                  </div>\n                  {selectedContact.endpoints.length > 0 ? (\n                    <div className=\"space-y-2\">\n                      {selectedContact.endpoints.map((ep, idx) => (\n                        <div\n                          key={idx}\n                          className=\"flex items-center gap-2 text-sm p-2 rounded-md bg-muted/30\"\n                        >\n                          {ep.type === 'email' && <Mail className=\"size-4 text-muted-foreground\" />}\n                          {ep.type === 'phone' && <Phone className=\"size-4 text-muted-foreground\" />}\n                          {ep.type !== 'email' && ep.type !== 'phone' && (\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {ep.type}\n                            </Badge>\n                          )}\n                          <span className=\"text-foreground\">{ep.value}</span>\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <p className=\"text-sm text-muted-foreground py-4 text-center\">\n                      No endpoints\n                    </p>\n                  )}\n                </div>\n              </div>\n            </ScrollArea>\n          )}\n        </SheetContent>\n      </Sheet>\n\n      {/* Create/Edit Contact Dialog */}\n      <ContactFormDialog\n        open={formOpen}\n        onOpenChange={(open) => {\n          setFormOpen(open);\n          if (!open) setEditingContact(null);\n        }}\n        contact={editingContact}\n        isSubmitting={isSubmitting}\n        onSubmit={(body) => {\n          if (editingContact) {\n            handleUpdateContact(body);\n          } else {\n            handleCreateContact(body);\n          }\n        }}\n      />\n    </div>\n  );\n}\n\n// ---------------------------------------------------------------------------\n// ContactFormDialog - extracted to keep the page component readable\n// ---------------------------------------------------------------------------\n\ninterface ContactFormDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  contact: Contact | null;\n  isSubmitting: boolean;\n  onSubmit: (body: ContactBody) => void;\n}\n\nfunction ContactFormDialog({\n  open,\n  onOpenChange,\n  contact,\n  isSubmitting,\n  onSubmit,\n}: ContactFormDialogProps) {\n  const [displayName, setDisplayName] = useState('');\n  const [notes, setNotes] = useState('');\n\n  // Reset form when dialog opens/closes or contact changes\n  React.useEffect(() => {\n    if (open) {\n      setDisplayName(contact?.display_name ?? '');\n      setNotes(contact?.notes ?? '');\n    }\n  }, [open, contact]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSubmit({\n      displayName: displayName.trim(),\n      notes: notes.trim() || undefined,\n    });\n  };\n\n  const isValid = displayName.trim().length > 0;\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md\" data-testid=\"contact-form-dialog\">\n        <DialogHeader>\n          <DialogTitle>{contact ? 'Edit Contact' : 'Add Contact'}</DialogTitle>\n          <DialogDescription>\n            {contact\n              ? 'Update the contact details below.'\n              : 'Fill in the details to add a new contact.'}\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <label htmlFor=\"contact-name\" className=\"text-sm font-medium\">\n              Name <span className=\"text-destructive\">*</span>\n            </label>\n            <Input\n              id=\"contact-name\"\n              value={displayName}\n              onChange={(e) => setDisplayName(e.target.value)}\n              placeholder=\"John Doe\"\n              required\n              data-testid=\"contact-name-input\"\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <label htmlFor=\"contact-notes\" className=\"text-sm font-medium\">\n              Notes\n            </label>\n            <Textarea\n              id=\"contact-notes\"\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Additional notes about this contact...\"\n              rows={3}\n              data-testid=\"contact-notes-input\"\n            />\n          </div>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              disabled={!isValid || isSubmitting}\n              data-testid=\"contact-form-submit\"\n            >\n              {contact ? 'Save Changes' : 'Add Contact'}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":["__iconNode","ArrowUpDown","createLucideIcon","Grid3x3","Phone","UserPlus","Sheet","props","SheetPrimitive.Root","SheetPortal","SheetPrimitive.Portal","SheetOverlay","className","jsx","SheetPrimitive.Overlay","cn","SheetContent","children","side","showCloseButton","jsxs","SheetPrimitive.Content","SheetPrimitive.Close","XIcon","SheetHeader","SheetTitle","SheetPrimitive.Title","SheetDescription","SheetPrimitive.Description","contactKeys","search","id","useContacts","queryString","useQuery","signal","apiClient","getEndpointValue","contact","type","e","sortContacts","contacts","field","sorted","a","b","ContactsPage","setSearch","useState","debouncedSearch","setDebouncedSearch","sortField","setSortField","viewMode","setViewMode","selectedContact","setSelectedContact","detailOpen","setDetailOpen","formOpen","setFormOpen","editingContact","setEditingContact","isSubmitting","setIsSubmitting","navigate","useNavigate","React","timer","data","isLoading","isError","error","refetch","sortedContacts","useMemo","handleContactClick","useCallback","handleNavigateToDetail","handleCreateContact","body","err","handleUpdateContact","handleDeleteContact","handleEdit","handleAddNew","Skeleton","SkeletonList","ErrorState","total","Button","Search","Input","Select","v","SelectTrigger","SelectValue","SelectContent","SelectItem","Grid3X3","List","Card","CardContent","EmptyState","ScrollArea","email","phone","getInitials","Mail","Badge","Link2","Separator","Fragment","ep","idx","ContactFormDialog","open","onOpenChange","onSubmit","displayName","setDisplayName","notes","setNotes","handleSubmit","isValid","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Textarea","DialogFooter"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}