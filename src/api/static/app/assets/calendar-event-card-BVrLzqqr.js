import{r as p,j as e}from"./index-nMqE_Vs3.js";import{u as F,P as h,c as v,a as B}from"./index-C41Rbgjy.js";import{R as G,I as q,f as N,D as T,a as k,b as w,c as C}from"./dropdown-menu-CjV_7CoQ.js";import{P as U}from"./scroll-area-Bmw3Bpqm.js";import{a as K,u as Y}from"./index-CXEZYiM0.js";import{c as f,a as u,e as H,B as z}from"./button-TOpELVfJ.js";import{M as O}from"./mail-Bsr1blDG.js";import{B as J}from"./badge-Dax4PfuM.js";import{C as Q}from"./clock-DUPEOUyY.js";import{U as W}from"./users-BjVxdKN7.js";const X=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],_=f("ellipsis-vertical",X);const Z=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],tt=f("map-pin",Z);const et=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],at=f("paperclip",et);const st=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],D=f("unlink",st);const rt=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],it=f("video",rt);var b="Tabs",[nt]=B(b,[N]),M=N(),[ot,y]=nt(b),P=p.forwardRef((t,a)=>{const{__scopeTabs:i,value:r,onValueChange:n,defaultValue:c,orientation:s="horizontal",dir:d,activationMode:x="automatic",...g}=t,l=F(d),[o,m]=K({prop:r,onChange:n,defaultProp:c??"",caller:b});return e.jsx(ot,{scope:i,baseId:Y(),value:o,onValueChange:m,orientation:s,dir:l,activationMode:x,children:e.jsx(h.div,{dir:l,"data-orientation":s,...g,ref:a})})});P.displayName=b;var I="TabsList",E=p.forwardRef((t,a)=>{const{__scopeTabs:i,loop:r=!0,...n}=t,c=y(I,i),s=M(i);return e.jsx(G,{asChild:!0,...s,orientation:c.orientation,dir:c.dir,loop:r,children:e.jsx(h.div,{role:"tablist","aria-orientation":c.orientation,...n,ref:a})})});E.displayName=I;var R="TabsTrigger",S=p.forwardRef((t,a)=>{const{__scopeTabs:i,value:r,disabled:n=!1,...c}=t,s=y(R,i),d=M(i),x=V(s.baseId,r),g=$(s.baseId,r),l=r===s.value;return e.jsx(q,{asChild:!0,...d,focusable:!n,active:l,children:e.jsx(h.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":g,"data-state":l?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:x,...c,ref:a,onMouseDown:v(t.onMouseDown,o=>{!n&&o.button===0&&o.ctrlKey===!1?s.onValueChange(r):o.preventDefault()}),onKeyDown:v(t.onKeyDown,o=>{[" ","Enter"].includes(o.key)&&s.onValueChange(r)}),onFocus:v(t.onFocus,()=>{const o=s.activationMode!=="manual";!l&&!n&&o&&s.onValueChange(r)})})})});S.displayName=R;var A="TabsContent",L=p.forwardRef((t,a)=>{const{__scopeTabs:i,value:r,forceMount:n,children:c,...s}=t,d=y(A,i),x=V(d.baseId,r),g=$(d.baseId,r),l=r===d.value,o=p.useRef(l);return p.useEffect(()=>{const m=requestAnimationFrame(()=>o.current=!1);return()=>cancelAnimationFrame(m)},[]),e.jsx(U,{present:n||l,children:({present:m})=>e.jsx(h.div,{"data-state":l?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":x,hidden:!m,id:g,tabIndex:0,...s,ref:a,style:{...t.style,animationDuration:o.current?"0s":void 0},children:m&&c})})});L.displayName=A;function V(t,a){return`${t}-trigger-${a}`}function $(t,a){return`${t}-content-${a}`}var ct=P,lt=E,dt=S,ut=L;function wt({className:t,orientation:a="horizontal",...i}){return e.jsx(ct,{"data-slot":"tabs","data-orientation":a,orientation:a,className:u("group/tabs flex gap-2 data-[orientation=horizontal]:flex-col",t),...i})}const mt=H("rounded-lg p-[3px] group-data-[orientation=horizontal]/tabs:h-9 data-[variant=line]:rounded-none group/tabs-list text-muted-foreground inline-flex w-fit items-center justify-center group-data-[orientation=vertical]/tabs:h-fit group-data-[orientation=vertical]/tabs:flex-col",{variants:{variant:{default:"bg-muted",line:"gap-1 bg-transparent"}},defaultVariants:{variant:"default"}});function Ct({className:t,variant:a="default",...i}){return e.jsx(lt,{"data-slot":"tabs-list","data-variant":a,className:u(mt({variant:a}),t),...i})}function zt({className:t,...a}){return e.jsx(dt,{"data-slot":"tabs-trigger",className:u("focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground/60 hover:text-foreground dark:text-muted-foreground dark:hover:text-foreground relative inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-all group-data-[orientation=vertical]/tabs:w-full group-data-[orientation=vertical]/tabs:justify-start focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 group-data-[variant=default]/tabs-list:data-[state=active]:shadow-sm group-data-[variant=line]/tabs-list:data-[state=active]:shadow-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4","group-data-[variant=line]/tabs-list:bg-transparent group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:border-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent","data-[state=active]:bg-background dark:data-[state=active]:text-foreground dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 data-[state=active]:text-foreground","after:bg-foreground after:absolute after:opacity-0 after:transition-opacity group-data-[orientation=horizontal]/tabs:after:inset-x-0 group-data-[orientation=horizontal]/tabs:after:bottom-[-5px] group-data-[orientation=horizontal]/tabs:after:h-0.5 group-data-[orientation=vertical]/tabs:after:inset-y-0 group-data-[orientation=vertical]/tabs:after:-right-1 group-data-[orientation=vertical]/tabs:after:w-0.5 group-data-[variant=line]/tabs-list:data-[state=active]:after:opacity-100",t),...a})}function _t({className:t,...a}){return e.jsx(ut,{"data-slot":"tabs-content",className:u("flex-1 outline-none",t),...a})}function Dt({email:t,onClick:a,onUnlink:i,className:r}){return e.jsxs("div",{"data-testid":"email-card",className:u("group flex items-start gap-3 rounded-lg border bg-card p-3 transition-colors hover:bg-accent/50",a&&"cursor-pointer",!t.isRead&&"border-l-2 border-l-primary",r),onClick:()=>a?.(t),children:[e.jsx("div",{className:"mt-0.5 flex size-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:e.jsx(O,{className:"size-4 text-primary"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:u("truncate text-sm",!t.isRead&&"font-semibold"),children:t.subject}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.from.name||t.from.email})]}),e.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[t.hasAttachments&&e.jsx(at,{className:"size-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:pt(t.date)}),i&&e.jsxs(T,{children:[e.jsx(k,{asChild:!0,children:e.jsx(z,{variant:"ghost",size:"icon",className:"size-6 opacity-0 group-hover:opacity-100",onClick:n=>n.stopPropagation(),children:e.jsx(_,{className:"size-4"})})}),e.jsx(w,{align:"end",children:e.jsxs(C,{className:"text-destructive focus:text-destructive",onClick:n=>{n.stopPropagation(),i(t)},children:[e.jsx(D,{className:"mr-2 size-4"}),"Unlink"]})})]})]})]}),e.jsx("p",{className:"mt-1 line-clamp-2 text-xs text-muted-foreground",children:t.snippet})]})]})}function pt(t){const i=new Date().getTime()-t.getTime(),r=Math.floor(i/(1e3*60*60*24));return r===0?t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):r===1?"Yesterday":r<7?t.toLocaleDateString([],{weekday:"short"}):t.toLocaleDateString([],{month:"short",day:"numeric"})}function Mt({event:t,onClick:a,onUnlink:i,className:r}){const n=t.endTime<new Date,c=xt(t.startTime,new Date);return e.jsxs("div",{"data-testid":"calendar-event-card",className:u("group flex items-start gap-3 rounded-lg border bg-card p-3 transition-colors hover:bg-accent/50",a&&"cursor-pointer",n&&"opacity-60",r),onClick:()=>a?.(t),children:[e.jsxs("div",{className:u("flex size-12 shrink-0 flex-col items-center justify-center rounded-lg",c?"bg-primary text-primary-foreground":"bg-muted"),children:[e.jsx("span",{className:"text-[10px] font-medium uppercase",children:t.startTime.toLocaleDateString([],{weekday:"short"})}),e.jsx("span",{className:"text-lg font-bold",children:t.startTime.getDate()})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h4",{className:"font-medium leading-tight",children:t.title}),i&&e.jsxs(T,{children:[e.jsx(k,{asChild:!0,children:e.jsx(z,{variant:"ghost",size:"icon",className:"size-6 opacity-0 group-hover:opacity-100",onClick:s=>s.stopPropagation(),children:e.jsx(_,{className:"size-4"})})}),e.jsx(w,{align:"end",children:e.jsxs(C,{className:"text-destructive focus:text-destructive",onClick:s=>{s.stopPropagation(),i(t)},children:[e.jsx(D,{className:"mr-2 size-4"}),"Unlink"]})})]})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(Q,{className:"size-3"}),e.jsx("span",{children:t.isAllDay?"All day":`${j(t.startTime)} - ${j(t.endTime)}`})]}),t.location&&e.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(tt,{className:"size-3"}),e.jsx("span",{className:"truncate",children:t.location})]}),t.meetingLink&&e.jsxs("div",{className:"mt-1 flex items-center gap-1 text-xs text-primary",children:[e.jsx(it,{className:"size-3"}),e.jsx("span",{children:"Video meeting"})]}),t.attendees.length>0&&e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(W,{className:"size-3 text-muted-foreground"}),e.jsxs("div",{className:"flex items-center gap-1",children:[t.attendees.slice(0,3).map((s,d)=>e.jsx(J,{variant:s.status==="accepted"?"default":s.status==="declined"?"destructive":"secondary",className:"text-[10px] px-1.5 py-0",children:s.name.split(" ")[0]},s.email)),t.attendees.length>3&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",t.attendees.length-3]})]})]})]})]})}function j(t){return t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function xt(t,a){return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate()}export{Mt as C,_ as E,tt as M,at as P,wt as T,D as U,it as V,Ct as a,zt as b,_t as c,Dt as d};
//# sourceMappingURL=calendar-event-card-BVrLzqqr.js.map
