{"version":3,"file":"use-timeline-D33XYHvH.js","sources":["../../../../ui/hooks/queries/use-timeline.ts"],"sourcesContent":["/**\n * TanStack Query hooks for timeline data.\n *\n * Provides queries for item-specific and global timeline views.\n */\nimport { useQuery } from '@tanstack/react-query';\nimport { apiClient } from '@/ui/lib/api-client.ts';\nimport type { TimelineResponse } from '@/ui/lib/api-types.ts';\n\n/** Query key factory for timelines. */\nexport const timelineKeys = {\n  all: ['timeline'] as const,\n  item: (id: string) => [...timelineKeys.all, 'item', id] as const,\n  global: (kindFilter?: string[]) => [...timelineKeys.all, 'global', kindFilter] as const,\n};\n\n/**\n * Fetch timeline data for a specific work item.\n *\n * @param id - Work item UUID\n * @returns TanStack Query result with `TimelineResponse`\n */\nexport function useItemTimeline(id: string) {\n  return useQuery({\n    queryKey: timelineKeys.item(id),\n    queryFn: ({ signal }) =>\n      apiClient.get<TimelineResponse>(`/api/work-items/${id}/timeline`, { signal }),\n    enabled: !!id,\n  });\n}\n\n/**\n * Fetch the global timeline with optional kind filtering.\n *\n * @param kindFilter - Optional array of kinds to include (e.g. ['project', 'epic'])\n * @returns TanStack Query result with `TimelineResponse`\n */\nexport function useGlobalTimeline(kindFilter?: string[]) {\n  const params = kindFilter && kindFilter.length > 0\n    ? `?kind=${kindFilter.join(',')}`\n    : '';\n\n  return useQuery({\n    queryKey: timelineKeys.global(kindFilter),\n    queryFn: ({ signal }) =>\n      apiClient.get<TimelineResponse>(`/api/timeline${params}`, { signal }),\n  });\n}\n"],"names":["timelineKeys","id","kindFilter","useItemTimeline","useQuery","signal","apiClient","useGlobalTimeline","params"],"mappings":"2FAUO,MAAMA,EAAe,CAC1B,IAAK,CAAC,UAAU,EAChB,KAAOC,GAAe,CAAC,GAAGD,EAAa,IAAK,OAAQC,CAAE,EACtD,OAASC,GAA0B,CAAC,GAAGF,EAAa,IAAK,SAAUE,CAAU,CAC/E,EAQO,SAASC,EAAgBF,EAAY,CAC1C,OAAOG,EAAS,CACd,SAAUJ,EAAa,KAAKC,CAAE,EAC9B,QAAS,CAAC,CAAE,OAAAI,CAAA,IACVC,EAAU,IAAsB,mBAAmBL,CAAE,YAAa,CAAE,OAAAI,CAAA,CAAQ,EAC9E,QAAS,CAAC,CAACJ,CAAA,CACZ,CACH,CAQO,SAASM,EAAkBL,EAAuB,CACvD,MAAMM,EAASN,GAAcA,EAAW,OAAS,EAC7C,SAASA,EAAW,KAAK,GAAG,CAAC,GAC7B,GAEJ,OAAOE,EAAS,CACd,SAAUJ,EAAa,OAAOE,CAAU,EACxC,QAAS,CAAC,CAAE,OAAAG,CAAA,IACVC,EAAU,IAAsB,gBAAgBE,CAAM,GAAI,CAAE,OAAAH,CAAA,CAAQ,CAAA,CACvE,CACH"}