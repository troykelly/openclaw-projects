import{c as re,u as A,b as _e,a as D,d as Ce,B as Rt}from"./button-B4tyHn7n.js";import{u as ne}from"./error-state-CCoNnbdR.js";import{a as ae}from"./api-client-CDvRtWmo.js";import{r as s,j as n}from"./index-Dmu1Cmf3.js";import{u as De,d as Et,c as h,a as se,P as j,e as At,f as bt,b as Pt}from"./index-DT505RDd.js";import{P as It,c as St,h as Nt,b as Tt,R as jt,F as kt,D as Ot,a as $t,u as we}from"./index-BdkY-9YW.js";import{R as Lt,A as Ft,c as ye,C as Gt,a as Kt}from"./index-BfbTaDZO.js";import{P as q}from"./index-CicDskkn.js";import{c as Re,I as Ut,R as Bt}from"./index-CqAfc_78.js";import{R as zt,W as Vt,C as Yt,T as Wt,f as qt,g as Ee,h as Ae,P as Xt,O as Ht,i as Qt}from"./dialog-DPKlQCu7.js";const Zt=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],an=re("grip-vertical",Zt);const Jt=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],sn=re("layers",Jt);const eo=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],cn=re("target",eo),R={all:["work-items"],lists:()=>[...R.all,"list"],list:e=>[...R.lists(),e],details:()=>[...R.all,"detail"],detail:e=>[...R.details(),e],tree:()=>[...R.all,"tree"]};function ln(e){return ne({queryKey:R.list(e),queryFn:({signal:o})=>ae.get("/api/work-items",{signal:o})})}function un(e){return ne({queryKey:R.detail(e),queryFn:({signal:t})=>ae.get(`/api/work-items/${e}`,{signal:t}),enabled:!!e})}function dn(){return ne({queryKey:R.tree(),queryFn:({signal:e})=>ae.get("/api/work-items/tree",{signal:e})})}var oe=["Enter"," "],to=["ArrowDown","PageUp","Home"],be=["ArrowUp","PageDown","End"],oo=[...to,...be],ro={ltr:[...oe,"ArrowRight"],rtl:[...oe,"ArrowLeft"]},no={ltr:["ArrowLeft"],rtl:["ArrowRight"]},K="Menu",[F,ao,so]=St(K),[b,Pe]=se(K,[so,ye,Re]),X=ye(),Ie=Re(),[co,P]=b(K),[io,U]=b(K),Se=e=>{const{__scopeMenu:t,open:o=!1,children:r,dir:a,onOpenChange:c,modal:l=!0}=e,u=X(t),[f,m]=s.useState(null),d=s.useRef(!1),i=De(c),v=Et(a);return s.useEffect(()=>{const w=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),n.jsx(Lt,{...u,children:n.jsx(co,{scope:t,open:o,onOpenChange:i,content:f,onContentChange:m,children:n.jsx(io,{scope:t,onClose:s.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:d,dir:v,modal:l,children:r})})})};Se.displayName=K;var lo="MenuAnchor",ce=s.forwardRef((e,t)=>{const{__scopeMenu:o,...r}=e,a=X(o);return n.jsx(Ft,{...a,...r,ref:t})});ce.displayName=lo;var ie="MenuPortal",[uo,Ne]=b(ie,{forceMount:void 0}),Te=e=>{const{__scopeMenu:t,forceMount:o,children:r,container:a}=e,c=P(ie,t);return n.jsx(uo,{scope:t,forceMount:o,children:n.jsx(q,{present:o||c.open,children:n.jsx(It,{asChild:!0,container:a,children:r})})})};Te.displayName=ie;var C="MenuContent",[po,le]=b(C),je=s.forwardRef((e,t)=>{const o=Ne(C,e.__scopeMenu),{forceMount:r=o.forceMount,...a}=e,c=P(C,e.__scopeMenu),l=U(C,e.__scopeMenu);return n.jsx(F.Provider,{scope:e.__scopeMenu,children:n.jsx(q,{present:r||c.open,children:n.jsx(F.Slot,{scope:e.__scopeMenu,children:l.modal?n.jsx(fo,{...a,ref:t}):n.jsx(mo,{...a,ref:t})})})})}),fo=s.forwardRef((e,t)=>{const o=P(C,e.__scopeMenu),r=s.useRef(null),a=A(t,r);return s.useEffect(()=>{const c=r.current;if(c)return Nt(c)},[]),n.jsx(ue,{...e,ref:a,trapFocus:o.open,disableOutsidePointerEvents:o.open,disableOutsideScroll:!0,onFocusOutside:h(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>o.onOpenChange(!1)})}),mo=s.forwardRef((e,t)=>{const o=P(C,e.__scopeMenu);return n.jsx(ue,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>o.onOpenChange(!1)})}),go=bt("MenuContent.ScrollLock"),ue=s.forwardRef((e,t)=>{const{__scopeMenu:o,loop:r=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:i,onInteractOutside:v,onDismiss:w,disableOutsideScroll:g,...x}=e,k=P(C,o),I=U(C,o),ht=X(o),xt=Ie(o),me=ao(o),[wt,ge]=s.useState(null),B=s.useRef(null),Mt=A(t,B,k.onContentChange),z=s.useRef(0),V=s.useRef(""),_t=s.useRef(0),Z=s.useRef(null),ve=s.useRef("right"),J=s.useRef(0),Ct=g?jt:s.Fragment,Dt=g?{as:go,allowPinchZoom:!0}:void 0,yt=p=>{const N=V.current+p,E=me().filter(_=>!_.disabled),O=document.activeElement,ee=E.find(_=>_.ref.current===O)?.textValue,te=E.map(_=>_.textValue),he=Ao(te,N,ee),$=E.find(_=>_.textValue===he)?.ref.current;(function _(xe){V.current=xe,window.clearTimeout(z.current),xe!==""&&(z.current=window.setTimeout(()=>_(""),1e3))})(N),$&&setTimeout(()=>$.focus())};s.useEffect(()=>()=>window.clearTimeout(z.current),[]),Tt();const S=s.useCallback(p=>ve.current===Z.current?.side&&Po(p,Z.current?.area),[]);return n.jsx(po,{scope:o,searchRef:V,onItemEnter:s.useCallback(p=>{S(p)&&p.preventDefault()},[S]),onItemLeave:s.useCallback(p=>{S(p)||(B.current?.focus(),ge(null))},[S]),onTriggerLeave:s.useCallback(p=>{S(p)&&p.preventDefault()},[S]),pointerGraceTimerRef:_t,onPointerGraceIntentChange:s.useCallback(p=>{Z.current=p},[]),children:n.jsx(Ct,{...Dt,children:n.jsx(kt,{asChild:!0,trapped:a,onMountAutoFocus:h(c,p=>{p.preventDefault(),B.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:n.jsx(Ot,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:i,onInteractOutside:v,onDismiss:w,children:n.jsx(Bt,{asChild:!0,...xt,dir:I.dir,orientation:"vertical",loop:r,currentTabStopId:wt,onCurrentTabStopIdChange:ge,onEntryFocus:h(f,p=>{I.isUsingKeyboardRef.current||p.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(Gt,{role:"menu","aria-orientation":"vertical","data-state":He(k.open),"data-radix-menu-content":"",dir:I.dir,...ht,...x,ref:Mt,style:{outline:"none",...x.style},onKeyDown:h(x.onKeyDown,p=>{const E=p.target.closest("[data-radix-menu-content]")===p.currentTarget,O=p.ctrlKey||p.altKey||p.metaKey,ee=p.key.length===1;E&&(p.key==="Tab"&&p.preventDefault(),!O&&ee&&yt(p.key));const te=B.current;if(p.target!==te||!oo.includes(p.key))return;p.preventDefault();const $=me().filter(_=>!_.disabled).map(_=>_.ref.current);be.includes(p.key)&&$.reverse(),Ro($)}),onBlur:h(e.onBlur,p=>{p.currentTarget.contains(p.target)||(window.clearTimeout(z.current),V.current="")}),onPointerMove:h(e.onPointerMove,G(p=>{const N=p.target,E=J.current!==p.clientX;if(p.currentTarget.contains(N)&&E){const O=p.clientX>J.current?"right":"left";ve.current=O,J.current=p.clientX}}))})})})})})})});je.displayName=C;var vo="MenuGroup",de=s.forwardRef((e,t)=>{const{__scopeMenu:o,...r}=e;return n.jsx(j.div,{role:"group",...r,ref:t})});de.displayName=vo;var ho="MenuLabel",ke=s.forwardRef((e,t)=>{const{__scopeMenu:o,...r}=e;return n.jsx(j.div,{...r,ref:t})});ke.displayName=ho;var Y="MenuItem",Me="menu.itemSelect",H=s.forwardRef((e,t)=>{const{disabled:o=!1,onSelect:r,...a}=e,c=s.useRef(null),l=U(Y,e.__scopeMenu),u=le(Y,e.__scopeMenu),f=A(t,c),m=s.useRef(!1),d=()=>{const i=c.current;if(!o&&i){const v=new CustomEvent(Me,{bubbles:!0,cancelable:!0});i.addEventListener(Me,w=>r?.(w),{once:!0}),At(i,v),v.defaultPrevented?m.current=!1:l.onClose()}};return n.jsx(Oe,{...a,ref:f,disabled:o,onClick:h(e.onClick,d),onPointerDown:i=>{e.onPointerDown?.(i),m.current=!0},onPointerUp:h(e.onPointerUp,i=>{m.current||i.currentTarget?.click()}),onKeyDown:h(e.onKeyDown,i=>{const v=u.searchRef.current!=="";o||v&&i.key===" "||oe.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});H.displayName=Y;var Oe=s.forwardRef((e,t)=>{const{__scopeMenu:o,disabled:r=!1,textValue:a,...c}=e,l=le(Y,o),u=Ie(o),f=s.useRef(null),m=A(t,f),[d,i]=s.useState(!1),[v,w]=s.useState("");return s.useEffect(()=>{const g=f.current;g&&w((g.textContent??"").trim())},[c.children]),n.jsx(F.ItemSlot,{scope:o,disabled:r,textValue:a??v,children:n.jsx(Ut,{asChild:!0,...u,focusable:!r,children:n.jsx(j.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:m,onPointerMove:h(e.onPointerMove,G(g=>{r?l.onItemLeave(g):(l.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:h(e.onPointerLeave,G(g=>l.onItemLeave(g))),onFocus:h(e.onFocus,()=>i(!0)),onBlur:h(e.onBlur,()=>i(!1))})})})}),xo="MenuCheckboxItem",$e=s.forwardRef((e,t)=>{const{checked:o=!1,onCheckedChange:r,...a}=e;return n.jsx(Ue,{scope:e.__scopeMenu,checked:o,children:n.jsx(H,{role:"menuitemcheckbox","aria-checked":W(o)?"mixed":o,...a,ref:t,"data-state":fe(o),onSelect:h(a.onSelect,()=>r?.(W(o)?!0:!o),{checkForDefaultPrevented:!1})})})});$e.displayName=xo;var Le="MenuRadioGroup",[wo,Mo]=b(Le,{value:void 0,onValueChange:()=>{}}),Fe=s.forwardRef((e,t)=>{const{value:o,onValueChange:r,...a}=e,c=De(r);return n.jsx(wo,{scope:e.__scopeMenu,value:o,onValueChange:c,children:n.jsx(de,{...a,ref:t})})});Fe.displayName=Le;var Ge="MenuRadioItem",Ke=s.forwardRef((e,t)=>{const{value:o,...r}=e,a=Mo(Ge,e.__scopeMenu),c=o===a.value;return n.jsx(Ue,{scope:e.__scopeMenu,checked:c,children:n.jsx(H,{role:"menuitemradio","aria-checked":c,...r,ref:t,"data-state":fe(c),onSelect:h(r.onSelect,()=>a.onValueChange?.(o),{checkForDefaultPrevented:!1})})})});Ke.displayName=Ge;var pe="MenuItemIndicator",[Ue,_o]=b(pe,{checked:!1}),Be=s.forwardRef((e,t)=>{const{__scopeMenu:o,forceMount:r,...a}=e,c=_o(pe,o);return n.jsx(q,{present:r||W(c.checked)||c.checked===!0,children:n.jsx(j.span,{...a,ref:t,"data-state":fe(c.checked)})})});Be.displayName=pe;var Co="MenuSeparator",ze=s.forwardRef((e,t)=>{const{__scopeMenu:o,...r}=e;return n.jsx(j.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});ze.displayName=Co;var Do="MenuArrow",Ve=s.forwardRef((e,t)=>{const{__scopeMenu:o,...r}=e,a=X(o);return n.jsx(Kt,{...a,...r,ref:t})});Ve.displayName=Do;var yo="MenuSub",[pn,Ye]=b(yo),L="MenuSubTrigger",We=s.forwardRef((e,t)=>{const o=P(L,e.__scopeMenu),r=U(L,e.__scopeMenu),a=Ye(L,e.__scopeMenu),c=le(L,e.__scopeMenu),l=s.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=c,m={__scopeMenu:e.__scopeMenu},d=s.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return s.useEffect(()=>d,[d]),s.useEffect(()=>{const i=u.current;return()=>{window.clearTimeout(i),f(null)}},[u,f]),n.jsx(ce,{asChild:!0,...m,children:n.jsx(Oe,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":a.contentId,"data-state":He(o.open),...e,ref:_e(t,a.onTriggerChange),onClick:i=>{e.onClick?.(i),!(e.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),o.open||o.onOpenChange(!0))},onPointerMove:h(e.onPointerMove,G(i=>{c.onItemEnter(i),!i.defaultPrevented&&!e.disabled&&!o.open&&!l.current&&(c.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{o.onOpenChange(!0),d()},100))})),onPointerLeave:h(e.onPointerLeave,G(i=>{d();const v=o.content?.getBoundingClientRect();if(v){const w=o.content?.dataset.side,g=w==="right",x=g?-5:5,k=v[g?"left":"right"],I=v[g?"right":"left"];c.onPointerGraceIntentChange({area:[{x:i.clientX+x,y:i.clientY},{x:k,y:v.top},{x:I,y:v.top},{x:I,y:v.bottom},{x:k,y:v.bottom}],side:w}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(i),i.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:h(e.onKeyDown,i=>{const v=c.searchRef.current!=="";e.disabled||v&&i.key===" "||ro[r.dir].includes(i.key)&&(o.onOpenChange(!0),o.content?.focus(),i.preventDefault())})})})});We.displayName=L;var qe="MenuSubContent",Xe=s.forwardRef((e,t)=>{const o=Ne(C,e.__scopeMenu),{forceMount:r=o.forceMount,...a}=e,c=P(C,e.__scopeMenu),l=U(C,e.__scopeMenu),u=Ye(qe,e.__scopeMenu),f=s.useRef(null),m=A(t,f);return n.jsx(F.Provider,{scope:e.__scopeMenu,children:n.jsx(q,{present:r||c.open,children:n.jsx(F.Slot,{scope:e.__scopeMenu,children:n.jsx(ue,{id:u.contentId,"aria-labelledby":u.triggerId,...a,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{l.isUsingKeyboardRef.current&&f.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:h(e.onFocusOutside,d=>{d.target!==u.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:h(e.onEscapeKeyDown,d=>{l.onClose(),d.preventDefault()}),onKeyDown:h(e.onKeyDown,d=>{const i=d.currentTarget.contains(d.target),v=no[l.dir].includes(d.key);i&&v&&(c.onOpenChange(!1),u.trigger?.focus(),d.preventDefault())})})})})})});Xe.displayName=qe;function He(e){return e?"open":"closed"}function W(e){return e==="indeterminate"}function fe(e){return W(e)?"indeterminate":e?"checked":"unchecked"}function Ro(e){const t=document.activeElement;for(const o of e)if(o===t||(o.focus(),document.activeElement!==t))return}function Eo(e,t){return e.map((o,r)=>e[(t+r)%e.length])}function Ao(e,t,o){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,c=o?e.indexOf(o):-1;let l=Eo(e,Math.max(c,0));a.length===1&&(l=l.filter(m=>m!==o));const f=l.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return f!==o?f:void 0}function bo(e,t){const{x:o,y:r}=e;let a=!1;for(let c=0,l=t.length-1;c<t.length;l=c++){const u=t[c],f=t[l],m=u.x,d=u.y,i=f.x,v=f.y;d>r!=v>r&&o<(i-m)*(r-d)/(v-d)+m&&(a=!a)}return a}function Po(e,t){if(!t)return!1;const o={x:e.clientX,y:e.clientY};return bo(o,t)}function G(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Io=Se,So=ce,No=Te,To=je,jo=de,ko=ke,Oo=H,$o=$e,Lo=Fe,Fo=Ke,Go=Be,Ko=ze,Uo=Ve,Bo=We,zo=Xe,Q="DropdownMenu",[Vo]=se(Q,[Pe]),M=Pe(),[Yo,Qe]=Vo(Q),Ze=e=>{const{__scopeDropdownMenu:t,children:o,dir:r,open:a,defaultOpen:c,onOpenChange:l,modal:u=!0}=e,f=M(t),m=s.useRef(null),[d,i]=$t({prop:a,defaultProp:c??!1,onChange:l,caller:Q});return n.jsx(Yo,{scope:t,triggerId:we(),triggerRef:m,contentId:we(),open:d,onOpenChange:i,onOpenToggle:s.useCallback(()=>i(v=>!v),[i]),modal:u,children:n.jsx(Io,{...f,open:d,onOpenChange:i,dir:r,modal:u,children:o})})};Ze.displayName=Q;var Je="DropdownMenuTrigger",et=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,disabled:r=!1,...a}=e,c=Qe(Je,o),l=M(o);return n.jsx(So,{asChild:!0,...l,children:n.jsx(j.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:_e(t,c.triggerRef),onPointerDown:h(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(c.onOpenToggle(),c.open||u.preventDefault())}),onKeyDown:h(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&c.onOpenToggle(),u.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});et.displayName=Je;var Wo="DropdownMenuPortal",tt=e=>{const{__scopeDropdownMenu:t,...o}=e,r=M(t);return n.jsx(No,{...r,...o})};tt.displayName=Wo;var ot="DropdownMenuContent",rt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=Qe(ot,o),c=M(o),l=s.useRef(!1);return n.jsx(To,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...r,ref:t,onCloseAutoFocus:h(e.onCloseAutoFocus,u=>{l.current||a.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:h(e.onInteractOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,d=f.button===2||m;(!a.modal||d)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rt.displayName=ot;var qo="DropdownMenuGroup",Xo=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx(jo,{...a,...r,ref:t})});Xo.displayName=qo;var Ho="DropdownMenuLabel",Qo=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx(ko,{...a,...r,ref:t})});Qo.displayName=Ho;var Zo="DropdownMenuItem",nt=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx(Oo,{...a,...r,ref:t})});nt.displayName=Zo;var Jo="DropdownMenuCheckboxItem",er=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx($o,{...a,...r,ref:t})});er.displayName=Jo;var tr="DropdownMenuRadioGroup",or=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx(Lo,{...a,...r,ref:t})});or.displayName=tr;var rr="DropdownMenuRadioItem",nr=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx(Fo,{...a,...r,ref:t})});nr.displayName=rr;var ar="DropdownMenuItemIndicator",sr=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx(Go,{...a,...r,ref:t})});sr.displayName=ar;var cr="DropdownMenuSeparator",ir=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx(Ko,{...a,...r,ref:t})});ir.displayName=cr;var lr="DropdownMenuArrow",ur=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx(Uo,{...a,...r,ref:t})});ur.displayName=lr;var dr="DropdownMenuSubTrigger",pr=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx(Bo,{...a,...r,ref:t})});pr.displayName=dr;var fr="DropdownMenuSubContent",mr=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:o,...r}=e,a=M(o);return n.jsx(zo,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mr.displayName=fr;var gr=Ze,vr=et,hr=tt,xr=rt,wr=nt;function fn({...e}){return n.jsx(gr,{"data-slot":"dropdown-menu",...e})}function mn({...e}){return n.jsx(vr,{"data-slot":"dropdown-menu-trigger",...e})}function gn({className:e,sideOffset:t=4,...o}){return n.jsx(hr,{children:n.jsx(xr,{"data-slot":"dropdown-menu-content",sideOffset:t,className:D("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...o})})}function vn({className:e,inset:t,variant:o="default",...r}){return n.jsx(wr,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":o,className:D("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}var at="AlertDialog",[Mr]=se(at,[Ae]),y=Ae(),st=e=>{const{__scopeAlertDialog:t,...o}=e,r=y(t);return n.jsx(zt,{...r,...o,modal:!0})};st.displayName=at;var _r="AlertDialogTrigger",Cr=s.forwardRef((e,t)=>{const{__scopeAlertDialog:o,...r}=e,a=y(o);return n.jsx(Qt,{...a,...r,ref:t})});Cr.displayName=_r;var Dr="AlertDialogPortal",ct=e=>{const{__scopeAlertDialog:t,...o}=e,r=y(t);return n.jsx(Xt,{...r,...o})};ct.displayName=Dr;var yr="AlertDialogOverlay",it=s.forwardRef((e,t)=>{const{__scopeAlertDialog:o,...r}=e,a=y(o);return n.jsx(Ht,{...a,...r,ref:t})});it.displayName=yr;var T="AlertDialogContent",[Rr,Er]=Mr(T),Ar=Pt("AlertDialogContent"),lt=s.forwardRef((e,t)=>{const{__scopeAlertDialog:o,children:r,...a}=e,c=y(o),l=s.useRef(null),u=A(t,l),f=s.useRef(null);return n.jsx(Vt,{contentName:T,titleName:ut,docsSlug:"alert-dialog",children:n.jsx(Rr,{scope:o,cancelRef:f,children:n.jsxs(Yt,{role:"alertdialog",...c,...a,ref:u,onOpenAutoFocus:h(a.onOpenAutoFocus,m=>{m.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[n.jsx(Ar,{children:r}),n.jsx(Pr,{contentRef:l})]})})})});lt.displayName=T;var ut="AlertDialogTitle",dt=s.forwardRef((e,t)=>{const{__scopeAlertDialog:o,...r}=e,a=y(o);return n.jsx(Wt,{...a,...r,ref:t})});dt.displayName=ut;var pt="AlertDialogDescription",ft=s.forwardRef((e,t)=>{const{__scopeAlertDialog:o,...r}=e,a=y(o);return n.jsx(qt,{...a,...r,ref:t})});ft.displayName=pt;var br="AlertDialogAction",mt=s.forwardRef((e,t)=>{const{__scopeAlertDialog:o,...r}=e,a=y(o);return n.jsx(Ee,{...a,...r,ref:t})});mt.displayName=br;var gt="AlertDialogCancel",vt=s.forwardRef((e,t)=>{const{__scopeAlertDialog:o,...r}=e,{cancelRef:a}=Er(gt,o),c=y(o),l=A(t,a);return n.jsx(Ee,{...c,...r,ref:l})});vt.displayName=gt;var Pr=({contentRef:e})=>{const t=`\`${T}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${T}\` by passing a \`${pt}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${T}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Ir=st,Sr=ct,Nr=it,Tr=lt,jr=mt,kr=vt,Or=dt,$r=ft;function Lr({...e}){return n.jsx(Ir,{"data-slot":"alert-dialog",...e})}function Fr({...e}){return n.jsx(Sr,{"data-slot":"alert-dialog-portal",...e})}function Gr({className:e,...t}){return n.jsx(Nr,{"data-slot":"alert-dialog-overlay",className:D("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Kr({className:e,...t}){return n.jsxs(Fr,{children:[n.jsx(Gr,{}),n.jsx(Tr,{"data-slot":"alert-dialog-content",className:D("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Ur({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-header",className:D("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Br({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-footer",className:D("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function zr({className:e,...t}){return n.jsx(Or,{"data-slot":"alert-dialog-title",className:D("text-lg font-semibold",e),...t})}function Vr({className:e,...t}){return n.jsx($r,{"data-slot":"alert-dialog-description",className:D("text-muted-foreground text-sm",e),...t})}function Yr({className:e,...t}){return n.jsx(jr,{"data-slot":"alert-dialog-action",className:D(Ce(),e),...t})}function Wr({className:e,...t}){return n.jsx(kr,{"data-slot":"alert-dialog-cancel",className:D(Ce({variant:"outline"}),e),...t})}function hn({open:e,onOpenChange:t,item:o,items:r,onConfirm:a,isDeleting:c}){const l=r&&r.length>0,u=l?r.length:1,f=o?.title??"",m=o?.childCount??0,d=l?r.reduce((w,g)=>w+(g.childCount??0),0):m,i=()=>l?`Delete ${u} items?`:`Delete "${f}"?`,v=()=>{const w=[];return l?w.push(`You are about to delete ${u} items.`):w.push(`You are about to delete "${f}".`),d>0&&w.push(`This will also delete ${d} child item${d===1?"":"s"}.`),w.push("You can undo this action for a short time after deletion."),w.join(" ")};return n.jsx(Lr,{open:e,onOpenChange:t,children:n.jsxs(Kr,{children:[n.jsxs(Ur,{children:[n.jsx(zr,{children:i()}),n.jsx(Vr,{children:v()})]}),n.jsxs(Br,{children:[n.jsx(Wr,{disabled:c,children:"Cancel"}),n.jsx(Yr,{onClick:a,disabled:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c?"Deleting...":"Delete"})]})]})})}const qr=5e3;function xn({visible:e,itemTitle:t,itemCount:o,onUndo:r,onDismiss:a,timeout:c=qr}){if(s.useEffect(()=>{if(!e)return;const u=setTimeout(()=>{a()},c);return()=>clearTimeout(u)},[e,c,a]),!e)return null;const l=()=>o&&o>1?`Deleted ${o} items`:`Deleted "${t}"`;return n.jsxs("div",{role:"alert",className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50 flex items-center gap-3 rounded-lg border bg-background px-4 py-3 shadow-lg",children:[n.jsx("span",{className:"text-sm",children:l()}),n.jsx(Rt,{variant:"outline",size:"sm",onClick:r,children:"Undo"})]})}function wn(e={}){const{onDeleted:t,onRestored:o,onError:r}=e,[a,c]=s.useState(!1),[l,u]=s.useState(null),f=s.useRef([]),m=s.useCallback(async g=>{try{if(!(await fetch(`/api/work-items/${g}/restore`,{method:"POST"})).ok)throw new Error("Failed to restore item");u(null),f.current=[],o?.()}catch(x){r?.(x instanceof Error?x:new Error("Unknown error"))}},[o,r]),d=s.useCallback(async()=>{const g=f.current;for(const x of g)await m(x)},[m]),i=s.useCallback(async g=>{c(!0);try{if(!(await fetch(`/api/work-items/${g.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete item");f.current=[g.id],u({itemId:g.id,itemTitle:g.title,onUndo:d}),t?.()}catch(x){r?.(x instanceof Error?x:new Error("Unknown error"))}finally{c(!1)}},[t,r,d]),v=s.useCallback(async g=>{c(!0);try{await Promise.all(g.map(x=>fetch(`/api/work-items/${x.id}`,{method:"DELETE"}))),f.current=g.map(x=>x.id),u({itemId:g[0].id,itemTitle:g[0].title,itemCount:g.length,onUndo:d}),t?.()}catch(x){r?.(x instanceof Error?x:new Error("Unknown error"))}finally{c(!1)}},[t,r,d]),w=s.useCallback(()=>{u(null),f.current=[]},[]);return{deleteItem:i,deleteItems:v,restoreItem:m,isDeleting:a,undoState:l,dismissUndo:w}}export{fn as D,an as G,sn as L,cn as T,xn as U,mn as a,gn as b,vn as c,dn as d,wn as e,hn as f,un as g,ln as u,R as w};
//# sourceMappingURL=use-work-item-delete-BEyx1jRy.js.map
