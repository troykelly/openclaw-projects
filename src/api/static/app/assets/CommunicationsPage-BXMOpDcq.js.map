{"version":3,"file":"CommunicationsPage-BXMOpDcq.js","sources":["../../../../../node_modules/.pnpm/lucide-react@0.563.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/circle-question-mark.js","../../../../../node_modules/.pnpm/lucide-react@0.563.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/message-square.js","../../../../../node_modules/.pnpm/lucide-react@0.563.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/sliders-horizontal.js","../../../../../node_modules/.pnpm/lucide-react@0.563.0_react@19.2.4/node_modules/lucide-react/dist/esm/icons/unlink-2.js","../../../../ui/components/communications/email-detail-sheet.tsx","../../../../ui/components/communications/calendar-event-detail-sheet.tsx","../../../../ui/pages/CommunicationsPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\", key: \"1u773s\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n];\nconst CircleQuestionMark = createLucideIcon(\"circle-question-mark\", __iconNode);\n\nexport { __iconNode, CircleQuestionMark as default };\n//# sourceMappingURL=circle-question-mark.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z\",\n      key: \"18887p\"\n    }\n  ]\n];\nconst MessageSquare = createLucideIcon(\"message-square\", __iconNode);\n\nexport { __iconNode, MessageSquare as default };\n//# sourceMappingURL=message-square.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 5H3\", key: \"1qgfaw\" }],\n  [\"path\", { d: \"M12 19H3\", key: \"yhmn1j\" }],\n  [\"path\", { d: \"M14 3v4\", key: \"1sua03\" }],\n  [\"path\", { d: \"M16 17v4\", key: \"1q0r14\" }],\n  [\"path\", { d: \"M21 12h-9\", key: \"1o4lsq\" }],\n  [\"path\", { d: \"M21 19h-5\", key: \"1rlt1p\" }],\n  [\"path\", { d: \"M21 5h-7\", key: \"1oszz2\" }],\n  [\"path\", { d: \"M8 10v4\", key: \"tgpxqk\" }],\n  [\"path\", { d: \"M8 12H3\", key: \"a7s4jb\" }]\n];\nconst SlidersHorizontal = createLucideIcon(\"sliders-horizontal\", __iconNode);\n\nexport { __iconNode, SlidersHorizontal as default };\n//# sourceMappingURL=sliders-horizontal.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 7h2a5 5 0 0 1 0 10h-2m-6 0H7A5 5 0 0 1 7 7h2\", key: \"1re2ne\" }]\n];\nconst Unlink2 = createLucideIcon(\"unlink-2\", __iconNode);\n\nexport { __iconNode, Unlink2 as default };\n//# sourceMappingURL=unlink-2.js.map\n","import * as React from 'react';\nimport {\n  Mail,\n  Paperclip,\n  Reply,\n  Forward,\n  Unlink,\n  Calendar,\n  User,\n} from 'lucide-react';\nimport { cn } from '@/ui/lib/utils';\nimport { Button } from '@/ui/components/ui/button';\nimport { ScrollArea } from '@/ui/components/ui/scroll-area';\nimport { Separator } from '@/ui/components/ui/separator';\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from '@/ui/components/ui/sheet';\nimport type { LinkedEmail } from './types';\n\nexport interface EmailDetailSheetProps {\n  email: LinkedEmail | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onUnlink?: (email: LinkedEmail) => void;\n}\n\nexport function EmailDetailSheet({\n  email,\n  open,\n  onOpenChange,\n  onUnlink,\n}: EmailDetailSheetProps) {\n  if (!email) return null;\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent className=\"w-[500px] sm:max-w-lg\">\n        <SheetHeader>\n          <SheetTitle className=\"sr-only\">Email Details</SheetTitle>\n          <SheetDescription className=\"sr-only\">View email subject, sender, and body</SheetDescription>\n        </SheetHeader>\n\n        <ScrollArea className=\"h-full\">\n          <div className=\"space-y-4 pb-6\">\n            {/* Subject */}\n            <div>\n              <h2 className=\"text-xl font-semibold\">{email.subject}</h2>\n            </div>\n\n            {/* Actions */}\n            {onUnlink && (\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"text-destructive hover:text-destructive\"\n                  onClick={() => onUnlink(email)}\n                >\n                  <Unlink className=\"mr-1 size-3\" />\n                  Unlink\n                </Button>\n              </div>\n            )}\n\n            <Separator />\n\n            {/* Meta info */}\n            <div className=\"space-y-3 text-sm\">\n              <div className=\"flex items-start gap-2\">\n                <User className=\"mt-0.5 size-4 text-muted-foreground\" />\n                <div>\n                  <p className=\"font-medium\">{email.from.name || email.from.email}</p>\n                  {email.from.name && (\n                    <p className=\"text-xs text-muted-foreground\">{email.from.email}</p>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"flex items-start gap-2\">\n                <Mail className=\"mt-0.5 size-4 text-muted-foreground\" />\n                <div>\n                  <p className=\"text-muted-foreground\">To:</p>\n                  <p>\n                    {email.to.map((r) => r.name || r.email).join(', ')}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <Calendar className=\"size-4\" />\n                <span>\n                  {email.date.toLocaleDateString([], {\n                    weekday: 'long',\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric',\n                  })}{' '}\n                  at{' '}\n                  {email.date.toLocaleTimeString([], {\n                    hour: 'numeric',\n                    minute: '2-digit',\n                  })}\n                </span>\n              </div>\n\n              {email.hasAttachments && (\n                <div className=\"flex items-center gap-2 text-muted-foreground\">\n                  <Paperclip className=\"size-4\" />\n                  <span>Has attachments</span>\n                </div>\n              )}\n            </div>\n\n            <Separator />\n\n            {/* Body */}\n            <div className=\"prose prose-sm dark:prose-invert max-w-none\">\n              {email.body ? (\n                <div className=\"whitespace-pre-wrap\">{email.body}</div>\n              ) : (\n                <p className=\"text-muted-foreground\">{email.snippet}</p>\n              )}\n            </div>\n          </div>\n        </ScrollArea>\n      </SheetContent>\n    </Sheet>\n  );\n}\n","import * as React from 'react';\nimport {\n  Calendar,\n  Clock,\n  MapPin,\n  Users,\n  Video,\n  User,\n  Unlink,\n  FileText,\n  Check,\n  X,\n  HelpCircle,\n} from 'lucide-react';\nimport { cn } from '@/ui/lib/utils';\nimport { Button } from '@/ui/components/ui/button';\nimport { Badge } from '@/ui/components/ui/badge';\nimport { ScrollArea } from '@/ui/components/ui/scroll-area';\nimport { Separator } from '@/ui/components/ui/separator';\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from '@/ui/components/ui/sheet';\nimport type { LinkedCalendarEvent, CalendarAttendee } from './types';\n\nfunction getStatusIcon(status: CalendarAttendee['status']) {\n  switch (status) {\n    case 'accepted':\n      return <Check className=\"size-3 text-green-600\" />;\n    case 'declined':\n      return <X className=\"size-3 text-red-600\" />;\n    case 'tentative':\n      return <HelpCircle className=\"size-3 text-yellow-600\" />;\n    default:\n      return null;\n  }\n}\n\nexport interface CalendarEventDetailSheetProps {\n  event: LinkedCalendarEvent | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onUnlink?: (event: LinkedCalendarEvent) => void;\n  onJoinMeeting?: (event: LinkedCalendarEvent) => void;\n}\n\nexport function CalendarEventDetailSheet({\n  event,\n  open,\n  onOpenChange,\n  onUnlink,\n  onJoinMeeting,\n}: CalendarEventDetailSheetProps) {\n  if (!event) return null;\n\n  const isPast = event.endTime < new Date();\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent className=\"w-[500px] sm:max-w-lg\">\n        <SheetHeader>\n          <SheetTitle className=\"sr-only\">Event Details</SheetTitle>\n          <SheetDescription className=\"sr-only\">View event time, attendees, and details</SheetDescription>\n        </SheetHeader>\n\n        <ScrollArea className=\"h-full\">\n          <div className=\"space-y-4 pb-6\">\n            {/* Title */}\n            <div>\n              <h2 className=\"text-xl font-semibold\">{event.title}</h2>\n              {isPast && (\n                <Badge variant=\"secondary\" className=\"mt-1\">\n                  Past event\n                </Badge>\n              )}\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex gap-2\">\n              {event.meetingLink && onJoinMeeting && !isPast && (\n                <Button size=\"sm\" onClick={() => onJoinMeeting(event)}>\n                  <Video className=\"mr-1 size-3\" />\n                  Join meeting\n                </Button>\n              )}\n              {onUnlink && (\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"text-destructive hover:text-destructive\"\n                  onClick={() => onUnlink(event)}\n                >\n                  <Unlink className=\"mr-1 size-3\" />\n                  Unlink\n                </Button>\n              )}\n            </div>\n\n            <Separator />\n\n            {/* When */}\n            <div className=\"space-y-3 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <Calendar className=\"size-4 text-muted-foreground\" />\n                <span>\n                  {event.startTime.toLocaleDateString([], {\n                    weekday: 'long',\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric',\n                  })}\n                </span>\n              </div>\n\n              <div className=\"flex items-center gap-2\">\n                <Clock className=\"size-4 text-muted-foreground\" />\n                <span>\n                  {event.isAllDay\n                    ? 'All day'\n                    : `${formatTime(event.startTime)} - ${formatTime(event.endTime)}`}\n                </span>\n              </div>\n\n              {/* Location */}\n              {event.location && (\n                <div className=\"flex items-center gap-2\">\n                  <MapPin className=\"size-4 text-muted-foreground\" />\n                  <span>{event.location}</span>\n                </div>\n              )}\n\n              {/* Meeting link */}\n              {event.meetingLink && (\n                <div className=\"flex items-center gap-2 text-primary\">\n                  <Video className=\"size-4\" />\n                  <a\n                    href={event.meetingLink}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"hover:underline\"\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    Join video call\n                  </a>\n                </div>\n              )}\n\n              {/* Organizer */}\n              {event.organizer && (\n                <div className=\"flex items-center gap-2\">\n                  <User className=\"size-4 text-muted-foreground\" />\n                  <span>Organized by {event.organizer.name || event.organizer.email}</span>\n                </div>\n              )}\n            </div>\n\n            {/* Attendees */}\n            {event.attendees.length > 0 && (\n              <>\n                <Separator />\n\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center gap-2 text-sm font-medium\">\n                    <Users className=\"size-4\" />\n                    Attendees ({event.attendees.length})\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    {event.attendees.map((attendee) => (\n                      <div\n                        key={attendee.email}\n                        className=\"flex items-center justify-between rounded-md bg-muted/50 px-3 py-2\"\n                      >\n                        <div>\n                          <p className=\"text-sm font-medium\">{attendee.name}</p>\n                          <p className=\"text-xs text-muted-foreground\">{attendee.email}</p>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          {getStatusIcon(attendee.status)}\n                          <span className=\"text-xs capitalize text-muted-foreground\">\n                            {attendee.status}\n                          </span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </>\n            )}\n\n            {/* Description */}\n            {event.description && (\n              <>\n                <Separator />\n\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center gap-2 text-sm font-medium\">\n                    <FileText className=\"size-4\" />\n                    Description\n                  </div>\n                  <div className=\"prose prose-sm dark:prose-invert max-w-none\">\n                    <div className=\"whitespace-pre-wrap\">{event.description}</div>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </ScrollArea>\n      </SheetContent>\n    </Sheet>\n  );\n}\n\nfunction formatTime(date: Date): string {\n  return date.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });\n}\n","/**\n * Communications page.\n *\n * Displays a unified view of emails and calendar events with tabbed\n * filtering (All/Emails/Calendar Events), date sorting, search, and\n * detail panels. Uses the existing communication component library.\n */\nimport React, { useState, useCallback, useMemo } from 'react';\nimport {\n  Mail,\n  Calendar,\n  MessageSquare,\n  Search,\n  SlidersHorizontal,\n  ArrowUpDown,\n  X,\n  Link2,\n  Unlink2,\n  ChevronDown,\n} from 'lucide-react';\nimport { cn } from '@/ui/lib/utils';\nimport { Button } from '@/ui/components/ui/button';\nimport { Badge } from '@/ui/components/ui/badge';\nimport { Input } from '@/ui/components/ui/input';\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from '@/ui/components/ui/tabs';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/ui/components/ui/dropdown-menu';\nimport { ScrollArea } from '@/ui/components/ui/scroll-area';\nimport { Separator } from '@/ui/components/ui/separator';\nimport { EmailCard } from '@/ui/components/communications/email-card';\nimport { CalendarEventCard } from '@/ui/components/communications/calendar-event-card';\nimport { EmailDetailSheet } from '@/ui/components/communications/email-detail-sheet';\nimport { CalendarEventDetailSheet } from '@/ui/components/communications/calendar-event-detail-sheet';\nimport type {\n  LinkedEmail,\n  LinkedCalendarEvent,\n} from '@/ui/components/communications/types';\nimport {\n  Skeleton,\n  SkeletonList,\n  EmptyState,\n} from '@/ui/components/feedback';\n\n/** Tab values for the communications view. */\nexport type CommunicationTab = 'all' | 'emails' | 'calendar';\n\n/** Sort direction for the list. */\nexport type SortOrder = 'newest' | 'oldest';\n\n/** Link filter options. */\nexport type LinkFilter = 'all' | 'linked' | 'unlinked';\n\n/** Combined communication item for the \"All\" tab. */\ninterface CommunicationItem {\n  kind: 'email' | 'calendar';\n  id: string;\n  date: Date;\n  email?: LinkedEmail;\n  event?: LinkedCalendarEvent;\n}\n\n/**\n * Build a unified list of communication items from emails and events.\n * Sorts by date according to the specified order.\n */\nfunction buildCommunicationItems(\n  emails: LinkedEmail[],\n  events: LinkedCalendarEvent[],\n  sortOrder: SortOrder,\n): CommunicationItem[] {\n  const items: CommunicationItem[] = [\n    ...emails.map((email) => ({\n      kind: 'email' as const,\n      id: email.id,\n      date: email.date,\n      email,\n    })),\n    ...events.map((event) => ({\n      kind: 'calendar' as const,\n      id: event.id,\n      date: event.startTime,\n      event,\n    })),\n  ];\n\n  items.sort((a, b) =>\n    sortOrder === 'newest'\n      ? b.date.getTime() - a.date.getTime()\n      : a.date.getTime() - b.date.getTime(),\n  );\n\n  return items;\n}\n\n/**\n * Filter communications by search query.\n * Matches against subject/title, sender/organizer, and snippet/description.\n */\nfunction filterBySearch(\n  emails: LinkedEmail[],\n  events: LinkedCalendarEvent[],\n  query: string,\n): { filteredEmails: LinkedEmail[]; filteredEvents: LinkedCalendarEvent[] } {\n  if (!query.trim()) {\n    return { filteredEmails: emails, filteredEvents: events };\n  }\n\n  const q = query.toLowerCase();\n\n  const filteredEmails = emails.filter(\n    (e) =>\n      e.subject.toLowerCase().includes(q) ||\n      e.from.name.toLowerCase().includes(q) ||\n      e.from.email.toLowerCase().includes(q) ||\n      e.snippet.toLowerCase().includes(q),\n  );\n\n  const filteredEvents = events.filter(\n    (e) =>\n      e.title.toLowerCase().includes(q) ||\n      (e.description?.toLowerCase().includes(q) ?? false) ||\n      (e.location?.toLowerCase().includes(q) ?? false) ||\n      e.attendees.some(\n        (a) =>\n          a.name.toLowerCase().includes(q) ||\n          a.email.toLowerCase().includes(q),\n      ),\n  );\n\n  return { filteredEmails, filteredEvents };\n}\n\n/** Props for the CommunicationsPage component. */\nexport interface CommunicationsPageProps {\n  /** Pre-loaded emails for testing. When undefined, shows demo data. */\n  emails?: LinkedEmail[];\n  /** Pre-loaded calendar events for testing. */\n  calendarEvents?: LinkedCalendarEvent[];\n  /** Whether data is loading. */\n  isLoading?: boolean;\n}\n\n/**\n * Communications page component.\n *\n * Provides a tabbed interface for browsing emails and calendar events\n * with search, sort, and filter controls. Opens detail panels via\n * side sheets.\n */\nexport function CommunicationsPage({\n  emails: propEmails,\n  calendarEvents: propEvents,\n  isLoading = false,\n}: CommunicationsPageProps = {}): React.JSX.Element {\n  // Use provided data or empty arrays (real API integration will come later)\n  const emails = propEmails ?? [];\n  const calendarEvents = propEvents ?? [];\n\n  // UI state\n  const [activeTab, setActiveTab] = useState<CommunicationTab>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortOrder, setSortOrder] = useState<SortOrder>('newest');\n  const [linkFilter, setLinkFilter] = useState<LinkFilter>('all');\n  const [showFilters, setShowFilters] = useState(false);\n\n  // Detail panel state\n  const [selectedEmail, setSelectedEmail] = useState<LinkedEmail | null>(null);\n  const [emailDetailOpen, setEmailDetailOpen] = useState(false);\n  const [selectedEvent, setSelectedEvent] = useState<LinkedCalendarEvent | null>(null);\n  const [eventDetailOpen, setEventDetailOpen] = useState(false);\n\n  // Filter data\n  const { filteredEmails, filteredEvents } = useMemo(\n    () => filterBySearch(emails, calendarEvents, searchQuery),\n    [emails, calendarEvents, searchQuery],\n  );\n\n  // Sorted email list\n  const sortedEmails = useMemo(() => {\n    const sorted = [...filteredEmails];\n    sorted.sort((a, b) =>\n      sortOrder === 'newest'\n        ? b.date.getTime() - a.date.getTime()\n        : a.date.getTime() - b.date.getTime(),\n    );\n    return sorted;\n  }, [filteredEmails, sortOrder]);\n\n  // Sorted event list\n  const sortedEvents = useMemo(() => {\n    const sorted = [...filteredEvents];\n    sorted.sort((a, b) =>\n      sortOrder === 'newest'\n        ? b.startTime.getTime() - a.startTime.getTime()\n        : a.startTime.getTime() - b.startTime.getTime(),\n    );\n    return sorted;\n  }, [filteredEvents, sortOrder]);\n\n  // Combined list for \"All\" tab\n  const allItems = useMemo(\n    () => buildCommunicationItems(filteredEmails, filteredEvents, sortOrder),\n    [filteredEmails, filteredEvents, sortOrder],\n  );\n\n  // Handlers\n  const handleEmailClick = useCallback((email: LinkedEmail) => {\n    setSelectedEmail(email);\n    setEmailDetailOpen(true);\n  }, []);\n\n  const handleEventClick = useCallback((event: LinkedCalendarEvent) => {\n    setSelectedEvent(event);\n    setEventDetailOpen(true);\n  }, []);\n\n  const handleClearSearch = useCallback(() => {\n    setSearchQuery('');\n  }, []);\n\n  const totalCount = emails.length + calendarEvents.length;\n  const filteredCount = filteredEmails.length + filteredEvents.length;\n  const hasActiveFilters = searchQuery.trim().length > 0 || linkFilter !== 'all';\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div data-testid=\"page-communications\" className=\"flex h-full flex-col p-6\">\n        <div className=\"mb-6 flex items-center justify-between\">\n          <Skeleton width={240} height={32} />\n          <Skeleton width={120} height={36} />\n        </div>\n        <Skeleton width=\"100%\" height={40} className=\"mb-4\" />\n        <SkeletonList count={5} variant=\"card\" />\n      </div>\n    );\n  }\n\n  return (\n    <div data-testid=\"page-communications\" className=\"flex h-full flex-col p-6\">\n      {/* Header */}\n      <div className=\"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-semibold text-foreground\">Communications</h1>\n          <p className=\"mt-1 text-sm text-muted-foreground\">\n            {totalCount} item{totalCount !== 1 ? 's' : ''}\n            {hasActiveFilters && filteredCount !== totalCount && (\n              <span> ({filteredCount} shown)</span>\n            )}\n          </p>\n        </div>\n      </div>\n\n      {/* Search and controls */}\n      <div className=\"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center\">\n        <div className=\"relative flex-1 sm:max-w-md\">\n          <Search className=\"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            data-testid=\"communications-search\"\n            type=\"text\"\n            placeholder=\"Search communications...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"pl-9 pr-8\"\n          />\n          {searchQuery && (\n            <button\n              type=\"button\"\n              onClick={handleClearSearch}\n              className=\"absolute right-2 top-1/2 -translate-y-1/2 rounded-sm p-0.5 text-muted-foreground hover:text-foreground\"\n              aria-label=\"Clear search\"\n            >\n              <X className=\"size-4\" />\n            </button>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          {/* Sort control */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"outline\" size=\"sm\" data-testid=\"sort-button\">\n                <ArrowUpDown className=\"mr-1 size-3.5\" />\n                {sortOrder === 'newest' ? 'Newest' : 'Oldest'}\n                <ChevronDown className=\"ml-1 size-3\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\">\n              <DropdownMenuLabel>Sort by date</DropdownMenuLabel>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem\n                onClick={() => setSortOrder('newest')}\n                className={cn(sortOrder === 'newest' && 'font-medium')}\n              >\n                Newest first\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                onClick={() => setSortOrder('oldest')}\n                className={cn(sortOrder === 'oldest' && 'font-medium')}\n              >\n                Oldest first\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n\n          {/* Filter toggle */}\n          <Button\n            variant={showFilters ? 'secondary' : 'outline'}\n            size=\"sm\"\n            onClick={() => setShowFilters((prev) => !prev)}\n            data-testid=\"filter-toggle\"\n          >\n            <SlidersHorizontal className=\"mr-1 size-3.5\" />\n            Filters\n            {hasActiveFilters && (\n              <Badge variant=\"secondary\" className=\"ml-1 text-[10px] px-1\">\n                !\n              </Badge>\n            )}\n          </Button>\n        </div>\n      </div>\n\n      {/* Filter bar */}\n      {showFilters && (\n        <div\n          data-testid=\"filter-bar\"\n          className=\"mb-4 flex flex-wrap items-center gap-2 rounded-lg border bg-muted/30 p-3\"\n        >\n          <span className=\"text-xs font-medium text-muted-foreground\">Link status:</span>\n          <div className=\"flex gap-1\">\n            {(['all', 'linked', 'unlinked'] as const).map((filter) => (\n              <Button\n                key={filter}\n                variant={linkFilter === filter ? 'default' : 'outline'}\n                size=\"sm\"\n                className=\"h-7 text-xs\"\n                onClick={() => setLinkFilter(filter)}\n              >\n                {filter === 'all' && 'All'}\n                {filter === 'linked' && (\n                  <>\n                    <Link2 className=\"mr-1 size-3\" />\n                    Linked\n                  </>\n                )}\n                {filter === 'unlinked' && (\n                  <>\n                    <Unlink2 className=\"mr-1 size-3\" />\n                    Unlinked\n                  </>\n                )}\n              </Button>\n            ))}\n          </div>\n\n          {hasActiveFilters && (\n            <>\n              <Separator orientation=\"vertical\" className=\"h-6\" />\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-7 text-xs\"\n                onClick={() => {\n                  setSearchQuery('');\n                  setLinkFilter('all');\n                }}\n              >\n                <X className=\"mr-1 size-3\" />\n                Clear all\n              </Button>\n            </>\n          )}\n        </div>\n      )}\n\n      {/* Tabs */}\n      <Tabs\n        value={activeTab}\n        onValueChange={(v) => setActiveTab(v as CommunicationTab)}\n        className=\"flex min-h-0 flex-1 flex-col\"\n      >\n        <TabsList className=\"w-fit\">\n          <TabsTrigger value=\"all\" className=\"gap-1.5\" data-testid=\"tab-all\">\n            <MessageSquare className=\"size-3.5\" />\n            All\n            {totalCount > 0 && (\n              <Badge variant=\"secondary\" className=\"ml-1 text-[10px] px-1.5\">\n                {filteredCount}\n              </Badge>\n            )}\n          </TabsTrigger>\n          <TabsTrigger value=\"emails\" className=\"gap-1.5\" data-testid=\"tab-emails\">\n            <Mail className=\"size-3.5\" />\n            Emails\n            {filteredEmails.length > 0 && (\n              <Badge variant=\"secondary\" className=\"ml-1 text-[10px] px-1.5\">\n                {filteredEmails.length}\n              </Badge>\n            )}\n          </TabsTrigger>\n          <TabsTrigger value=\"calendar\" className=\"gap-1.5\" data-testid=\"tab-calendar\">\n            <Calendar className=\"size-3.5\" />\n            Calendar Events\n            {filteredEvents.length > 0 && (\n              <Badge variant=\"secondary\" className=\"ml-1 text-[10px] px-1.5\">\n                {filteredEvents.length}\n              </Badge>\n            )}\n          </TabsTrigger>\n        </TabsList>\n\n        {/* All tab */}\n        <TabsContent value=\"all\" className=\"mt-4 flex-1\">\n          {allItems.length > 0 ? (\n            <ScrollArea className=\"h-[calc(100vh-380px)]\">\n              <div className=\"space-y-2 pr-4\" data-testid=\"communications-list-all\">\n                {allItems.map((item) =>\n                  item.kind === 'email' && item.email ? (\n                    <EmailCard\n                      key={`email-${item.id}`}\n                      email={item.email}\n                      onClick={handleEmailClick}\n                    />\n                  ) : item.event ? (\n                    <CalendarEventCard\n                      key={`event-${item.id}`}\n                      event={item.event}\n                      onClick={handleEventClick}\n                    />\n                  ) : null,\n                )}\n              </div>\n            </ScrollArea>\n          ) : (\n            <EmptyState\n              variant={searchQuery ? 'search' : 'inbox'}\n              title={searchQuery ? 'No communications found' : 'No communications yet'}\n              description={\n                searchQuery\n                  ? 'Try adjusting your search terms or filters.'\n                  : 'Emails and calendar events linked to your work items will appear here.'\n              }\n            />\n          )}\n        </TabsContent>\n\n        {/* Emails tab */}\n        <TabsContent value=\"emails\" className=\"mt-4 flex-1\">\n          {sortedEmails.length > 0 ? (\n            <ScrollArea className=\"h-[calc(100vh-380px)]\">\n              <div className=\"space-y-2 pr-4\" data-testid=\"communications-list-emails\">\n                {sortedEmails.map((email) => (\n                  <EmailCard\n                    key={email.id}\n                    email={email}\n                    onClick={handleEmailClick}\n                  />\n                ))}\n              </div>\n            </ScrollArea>\n          ) : (\n            <EmptyState\n              variant={searchQuery ? 'search' : 'email'}\n              title={searchQuery ? 'No emails found' : 'No emails yet'}\n              description={\n                searchQuery\n                  ? 'Try adjusting your search terms.'\n                  : 'Emails linked to your work items will appear here.'\n              }\n            />\n          )}\n        </TabsContent>\n\n        {/* Calendar tab */}\n        <TabsContent value=\"calendar\" className=\"mt-4 flex-1\">\n          {sortedEvents.length > 0 ? (\n            <ScrollArea className=\"h-[calc(100vh-380px)]\">\n              <div className=\"space-y-2 pr-4\" data-testid=\"communications-list-calendar\">\n                {sortedEvents.map((event) => (\n                  <CalendarEventCard\n                    key={event.id}\n                    event={event}\n                    onClick={handleEventClick}\n                  />\n                ))}\n              </div>\n            </ScrollArea>\n          ) : (\n            <EmptyState\n              variant={searchQuery ? 'search' : 'calendar'}\n              title={searchQuery ? 'No events found' : 'No calendar events yet'}\n              description={\n                searchQuery\n                  ? 'Try adjusting your search terms.'\n                  : 'Calendar events linked to your work items will appear here.'\n              }\n            />\n          )}\n        </TabsContent>\n      </Tabs>\n\n      {/* Detail sheets */}\n      <EmailDetailSheet\n        email={selectedEmail}\n        open={emailDetailOpen}\n        onOpenChange={setEmailDetailOpen}\n      />\n      <CalendarEventDetailSheet\n        event={selectedEvent}\n        open={eventDetailOpen}\n        onOpenChange={setEventDetailOpen}\n      />\n    </div>\n  );\n}\n"],"names":["__iconNode","CircleQuestionMark","createLucideIcon","MessageSquare","SlidersHorizontal","Unlink2","EmailDetailSheet","email","open","onOpenChange","onUnlink","Sheet","jsxs","SheetContent","SheetHeader","jsx","SheetTitle","SheetDescription","ScrollArea","Button","Unlink","Separator","User","Mail","r","Calendar","Paperclip","getStatusIcon","status","Check","X","HelpCircle","CalendarEventDetailSheet","event","onJoinMeeting","isPast","Badge","Video","Clock","formatTime","MapPin","e","Fragment","Users","attendee","FileText","date","buildCommunicationItems","emails","events","sortOrder","items","a","b","filterBySearch","query","q","filteredEmails","filteredEvents","CommunicationsPage","propEmails","propEvents","isLoading","calendarEvents","activeTab","setActiveTab","useState","searchQuery","setSearchQuery","setSortOrder","linkFilter","setLinkFilter","showFilters","setShowFilters","selectedEmail","setSelectedEmail","emailDetailOpen","setEmailDetailOpen","selectedEvent","setSelectedEvent","eventDetailOpen","setEventDetailOpen","useMemo","sortedEmails","sorted","sortedEvents","allItems","handleEmailClick","useCallback","handleEventClick","handleClearSearch","totalCount","filteredCount","hasActiveFilters","Skeleton","SkeletonList","Search","Input","DropdownMenu","DropdownMenuTrigger","ArrowUpDown","ChevronDown","DropdownMenuContent","DropdownMenuLabel","DropdownMenuSeparator","DropdownMenuItem","cn","prev","filter","Link2","Tabs","v","TabsList","TabsTrigger","TabsContent","item","EmailCard","CalendarEventCard","EmptyState"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}